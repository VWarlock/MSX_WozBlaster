Yamaha LSI OPL4 YMF278B 						 1994.5
฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿รรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรร

			    C O N T E N T S

OVERVIEW ________________________________________________________________

  Features ______________________________________________________________

  Block Diagram _________________________________________________________

  Pin Layout ____________________________________________________________

  Descriton Of Pin Functions ____________________________________________

  CPU Interface _________________________________________________________

  Status register _______________________________________________________

OVERVIEW OF WAVE TABLE SYNTHESIS ________________________________________

  Register Table For Wave Table Synthesis And Mixing ____________________

  Channel _______________________________________________________________

  Registers (Wave Table Synthesizer) ____________________________________

  Envelop _______________________________________________________________

  How To Calculate The Actual Rate ______________________________________

  Relation Between Rate Value and Actual Time ___________________________

  External Memory Data Format ___________________________________________

  Header Part ___________________________________________________________

OVERVIEW OF WAVE FM SYNTHESIS ___________________________________________

  Register Table For FM Synthesis _______________________________________

  Register Setting ______________________________________________________

  Registers (FM) ________________________________________________________

  Envelop Graph (FM) ____________________________________________________

  Rate Value and Actual Time Table ______________________________________

  Connection to a D/A Converter And Effect Processor ____________________

  Audio Output Interface ________________________________________________



OVERVIEW
฿฿฿฿฿฿฿฿รรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรร

The YMF278B (OPL4) is a synthesizer LSI which integrates Wave Table Synthesis
and FM synthesis in one chip. It can generate 24 voices of Wave Table
synthesis at one time. With wave data memory connected externally, it complies
with GM System Level 1.
The FM synthesizer portion is register compatible with the YMF262 (OPL3),
wich is a popular LSI for IBM-PC.
With these features, this LSI (YMF278B) maintains software compatibility with
applications currently in use and provides enhanched functions and higher
performence when it is used ina multi-media personal computer (MPC) or sound
board.
The YRW801 is also available as a Wave Table synthesis waveform data ROM.


FEATURES
฿฿฿฿฿฿฿฿รรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรร

ึ FM synthesizer Unit (same as YMF262)
  1. Sound Generation Modes
    . Two-operator mode
      Generates eigtheen voices in two operator modes or fiftheen voices plus
      five rhythm sounds in two operator modes simultaneously.
    . Four-operator mode
      Generates six voices in four operator modes plus six voices in two
      operator modes or six voices in four operator modes plus three voices
      plus five rhythm sounds in two operator modes simultaneously.
  2. Eight selectable waveforms.
  3. Stereo output.

ึ Wave Table Synthesis
  1. Generates twenty-four voices simultaneously.
  2. 44.1Khz sampling rate for output sound data.
  3. Selectable from 8 bits, 12 bits and 16 bits word lengths for wave data.
  4. Stereo output (16-stage panpot for each voice)

ึ Wave Data
  1. Accepts 4MB external memory at maximum
  2. Up to 512 Wave Tables.
  3. External ROM or SRAM can be connected. With SRAM connected, the CPU can
     download wave data.
  4. Outputs chip select signals for 128KB ,512KB ,1MB or 2MB memory.

ึ Others
  1. Has six sound output channels and can be connected to the YAC513.
     (external DAC)
  2. Can be connected directly to the YSS225(EP) witch adds various sound
     effects.
  3. 80-pin QFP package.


BLOCKDIAGRAM
฿฿฿฿฿฿฿฿฿฿฿฿รรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรร



      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
      V 								 V
      V 	    +-------------------------------------------------+  V
      V  XWWWWWWWWY | XWWWWWWWWWWY     XWWWWWWWWWWY	 XWWWWWWWWWWY |  V
XI   XS  V timing V | V  Envelop V     V Operator V	 V  Accumu- V |  TY DO0
     ZSW>V	  V | V GeneratorTWWWW>V	  TWWRWW>V   lator  TW+W>T[
CLKO  V  V controlV | V   (EG)	 V<Y X>V   (OP)   V  V	 V (FM-EXT) V |  V
BCO  XS<WS	  V | ZWWWWWWWWWW[ V V ZWWWWWWWWWW[  V	 ZWWWWWWWWWW[ |  V
LRO  ZS  ZWWWWWWWW[ |		   V V		     V		      |  V
WCO   V 	    |	       XWWWUW[		     V		      |  V
      V 	    |	       V   V		     V +--------------+  V
      V  XWWWWWWWWY | XWWWWWWWWQWY V   XWWWWWWWWWWY  V | XWWWWWWWWWWY	 V
     XS  V	  V | V  Phase	 V<QWWWS Vibrato  V  V | V  Accumu- V	 TY DO2
/IRQ ZS<WS  Timer V | V GeneratorV     V Tremelo  V  V | V   lator  TWWW>T[
      V  V	  V | V   (PG)	 V     V	  V  V | V   (MIX)  V	 V
      V  ZWWWWRWWW[ | ZWWWWWWWWWW[     ZWWWWWWWWWW[  V | ZWWWWWRWWWW[	 V
      V       V     |		       FM SYNTHESIS  V |       V	 V
      V       V     +--------------W-----------------S-+       V	 V
      V  XWWWWQWWWY	ภยยภ 		     V	       V	 V
      V  V	  V	  			     V	       V	 V
      V  V	  ส			     V	       V	 V
      V  V	  V	  			     V	       V	 V
      V  VRegisterV	ร฿ลล฿ร 		     V	       V	 V
D0-D7XS<WS	  V +-------------------------------+V	       V  Mixer  V
     ZSW>V Array  V | XWWWWWWWWWWY     XWWWWWWWWWWY |V	 XWWWWWQWWWWY	 V
      V  V	  V | V  Envelop V     V	  TW+QWW>V  Digital V	 V
      V  V	  V | V GeneratorTWWWW>VMultiplierV |	 V  Mixing  V	 V
      V  V	  V | V   (EG)	 V<Y   V	  TW+WWW>V	    V	 V
      V  V	  V | ZWWWWWWWWWW[ V   ZWWWWWWWRWW[ |	 ZWWWWWWWWWW[	 V
      V  ZWWWRWWWW[ |		   V	       V    +-----------------+  V
      V      V	    |		   V	       ZWWWWWY		      |  V
      V      V	    |		   V		     V		      |  V
A0-A2 V  XWWWQWWWWY | XWWWWWWWWWWY V   XWWWWWWWWWWY  V	 XWWWWWWWWWWY |  V
/CS  XS  VData busV | V  Phase	 V<QWWWS Vibrato  V  V	 V  Accumu- V |  TY DO1
/WR  ZSW>V ControlV | V GeneratorV     V Tremelo  V  V	 V   lator  TW+W>T[
/RD   V  V	  V | V   (PG)	 V     V	  V  V	 V (PCM-EXT)V |  V
      V  ZWWWWWWWW[ | ZWWWWRWWWWW[     ZWWWWWWWWWW[  V	 ZWWWWWWWWWW[ |  V
      V 	    |	   V			     V		      |  V
      V 	    |	   ZWWWWWWWWY		XWWWW[		      |  V
      V 	    |		    V		V		      |  V
      V 	    | XWWWWWWWWWWY  V  XWWWWWWWWQWY		      |  V
      V 	    | V  Memory  V  ZW>V  Inter-  V		      |  V
      V 	    | V InterfaceV     V Polation V		      |  V
      V 	    | V 	 TWWWW>V	  V		      |  V
      V 	    | ZWWWWWWWWWW[     ZWWWWWWWWWW[		      |  V
      V 	    |	ภยยภ 				      |  V
      V 	    |	  		       WAVE TABLE SYNTHESIS   |  V
      V 	    +----------------------------------------------+  V
      V 		  						 V
      V 		ร฿ลล฿ร 					 V
      ZWWWWWWWWWWWWWWWWWWWRWRWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW[
			  ZW[
			MD0-MD7
			MA0-MA20
		       /MRD./MWR
		      /MCS0-/MSC9



PIN  LAYOUT
฿฿฿฿฿฿฿฿฿฿฿รรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรร


	  /   / 	      M   M   M       M 		  /
	  S   S   V	      A   A   A   V   A   M   M   M   M   M   V
	  T   T   S   X   X   2   1   1   D   1   A   A   A   A   W   S
	  2   1   S   I   O   0   9   8   D   7   8   7   9   6   R   S
	 XWY XWY XWY XWY XWY XWY XWY XWY XWY XWY XWY XWY XWY XWY XWY XWY
       XWQWQWQWQWQWQWQWQWQWQWQWQWQWQWQWQWQWQWQWQWQWQWQWQWQWQWQWQWQWQWQWQWY
      ]   80  79  78  77  76  75  74  73  72  71  70  69  68  67  66  65 V
     V									 V
  A0XS	1							      64 TYMA10
    ZS									 T[
  A1XS	2							      63 TYMA5
    ZS									 T[
  A2XS	3							      62 TYMA11
    ZS									 T[
 /CSXS	4							      61 TYMA4
    ZS									 T[
 /RDXS	5							      60 TYMA12
    ZS									 T[
 /WRXS	6							      59 TYMA3
    ZS									 T[
 /ICXS	7							      58 TYMA13
    ZS									 T[
 VDDXS	8							      57 TYMA2
    ZS									 T[
/IRQXS	9							      56 TYMA14
    ZS									 T[
  D0XS 10							      55 TYVDD
    ZS									 T[
  D1XS 11							      54 TYMA1
    ZS									 T[
  D2XS 12		       Y M F - 2 7 8 B			      53 TYMA15
    ZS									 T[
  D3XS 13							      52 TYMA0
    ZS									 T[
  D4XS 14							      51 TYMA16
    ZS									 T[
  D5XS 15							      50 TY/MRD
    ZS									 T[
  D6XS 16							      49 TYMD0
    ZS									 T[
  D7XS 17							      48 TYMD7
    ZS									 T[
 VSSXS 18							      47 TYMD1
    ZS									 T[
CLKOXS 19							      46 TYMD6
    ZS									 T[
 BCOXS 20							      45 TYWCO
    ZS									 T[
 LROXS 21							      44 TYWD2
    ZS									 T[
 DO0XS 22							      43 TYWD5
    ZS									 T[
 DO1XS 23							      42 TYWD3
    ZS									 T[
 DO2XS 24							      41 TYWD4
    ZS									 T[
     V	  25  26  27  28  29  30  31  32  33  34  35  36  37  38  39  40 V
     ZWWWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRWRW[
	 ZW[ ZW[ ZW[ ZW[ ZW[ ZW[ ZW[ ZW[ ZW[ ZW[ ZW[ ZW[ ZW[ ZW[ ZW[ ZW[
	  /   /   /   /   /   /   N   V   N   N   N   /   V   /   /   /
	  M   M   M   M   M   M   .   D   .   .   .   M   S   M   M   M
	  C   C   C   C   C   C   C   D   C   C   C   C   S   C   C   C
	  S   S   S   S   S   S 		      S       S   S   S
	  0   1   2   3   4   5 		      6       7   8   9


DESCRIPTION OF PIN FUNCTIONS
฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿รรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรร

XWWWWRWWWWWWWRWWWWWWWWWWWRWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
V No V  I/O  V Pin Name  V Function                                        V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V  1 V	  I  V A0	 V CPU interface address 0			   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V  2 V	  I  V A1	 V CPU interface address 1			   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V  3 V	  I  V A2	 V CPU interface address 2			   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V  4 V	 I+  V /CS	 V CPU interface chip select			   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V  5 V	  I  V /RD	 V CPU interface read enable			   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V  6 V    I  V /WR       V CPU interface write enable                      V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V  7 V	 I+  V /IC	 V Initial clear				   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V  8 V	---  V VDD	 V +5V power supply				   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V  9 V	OD   V /IRQ	 V CPU interface interrupt			   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 10 V  I/O  V D0        V CPU interface data bus                          V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 11 V  I/O  V D1        V CPU interface data bus                          V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 12 V  I/O  V D2        V CPU interface data bus                          V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 13 V  I/O  V D3        V CPU interface data bus                          V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 14 V  I/O  V D4        V CPU interface data bus                          V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 15 V  I/O  V D5        V CPU interface data bus                          V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 16 V  I/O  V D6        V CPU interface data bus                          V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 17 V  I/O  V D7        V CPU interface data bus                          V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 18 V  ___  V VSS       V GROUND                                          V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 19 V	  O  V CLKO	 V Clock output (16.9344 MHz)			   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 20 V	  O  V BCO	 V Audio interface bit clock output		   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 21 V	  O  V LRO	 V Audio interface L/R clock output		   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 22 V	  O  V DO0	 V Audio interface FM-EXT output		   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 23 V	  O  V DO1	 V Audio interface PCM-EXT output		   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 24 V	  O  V DO2	 V Audio interface MIX (PCM+FM) output		   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 25 V	  O  V /MCS0	 V Chip select for external memory 0		   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 26 V	  O  V /MCS1	 V Chip select for external memory 1		   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 27 V	  O  V /MCS2	 V Chip select for external memory 2		   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 28 V	  O  V /MCS3	 V Chip select for external memory 3		   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 29 V	  O  V /MCS4	 V Chip select for external memory 4		   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 30 V	  O  V /MCS5	 V Chip select for external memory 5		   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 31 V	---  V	N.C	 V No Connection				   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 32 V	---  V	VDD	 V  +5V power supply				   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 33 V	---  V	N.C	 V No Connection				   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 34 V	---  V	N.C	 V No Connection				   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 35 V	---  V	N.C	 V No Connection				   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 36 V	  O  V /MCS6	 V Chip select for external memory 6		   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 37 V   ___ V  VSS      V  Ground                                         V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 38 V	  O  V /MCS7	 V Chip select for external memory 7		   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 39 V	  O  V /MCS8	 V Chip select for external memory 8		   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 40 V	  O  V /MCS9	 V Chip select for external memory 9		   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 41 V	I/O  V MD4	 V External memory data bus			   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 42 V	I/O  V MD3	 V External memory data bus			   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 43 V	I/O  V MD5	 V External memory data bus			   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 44 V	I/O  V MD2	 V External memory data bus			   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 45 V	  O  V WCO	 V Audio interface word clock output		   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 46 V	I/O  V MD6	 V External memory data bus			   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 47 V	I/O  V MD1	 V External memory data bus			   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 48 V	I/O  V MD7	 V External memory data bus			   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 49 V	I/O  V MD0	 V External memory data bus			   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 50 V	  O  V /WRD	 V External memory  read enable 		   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 51 V	  O  V MA16	 V External memory address bus			   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 52 V	  O  V MA0	 V External memory address bus			   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 53 V	  O  V MA15	 V External memory address bus			   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 54 V	  O  V MA1	 V External memory address bus			   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 55 V  ___  V VDD       V +5V power supply                                V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 56 V	  O  V MA14	 V External memory address bus			   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 57 V	  O  V MA2	 V External memory address bus			   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 58 V	  O  V MA13	 V External memory address bus			   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 59 V	  O  V MA3	 V External memory address bus			   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 60 V	  O  V MA12	 V External memory address bus			   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 61 V	  O  V MA4	 V External memory address bus			   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 62 V	  O  V MA11	 V External memory address bus			   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 63 V	  O  V MA5	 V External memory address bus			   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 64 V	  O  V MA10	 V External memory address bus			   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 65 V  ___  V VSS       V Ground                                          V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 66 V	  O  V /MWR	 V External memory write enable 		   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 67 V	  O  V MA6	 V External memory address bus			   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 68 V	  O  V MA9	 V External memory address bus			   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 69 V	  O  V MA7	 V External memory address bus			   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 70 V	  O  V MA8	 V External memory address bus			   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 71 V	  O  V MA17	 V External memory address bus			   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 72 V  ___  V VDD       V +5V power supply                                V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 73 V	  O  V MA18	 V External memory address bus			   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 74 V	  O  V MA19	 V External memory address bus			   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 75 V	  O  V MA20	 V External memory address bus			   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 76 V	  O  V X0	 V Crystal oscillator connection pin		   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 77 V	  |  V X1	 V Crystal oscillator connection pin or master	   V
V    V	     V		 V clock input pin (33.8688 MHz)		   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 78 V  ___  V VSS       V Ground                                          V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 79 V	| +  V /TST1	 V LSI test pin (Not connected normally)	   V
TWWWWUWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 80 V	| +  V /TST2	 V LSI test pin (Not connected normally)	   V
ZWWWWQWWWWWWWQWWWWWWWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW[

notes : N.C.,/TST1 and /TST2: These pins should normally be open.
	I+: Pin with built-in pull-up resistor.
	OD: Open drain output pin


CPU INTERFACE
฿฿฿฿฿฿฿฿฿฿฿฿฿รรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรร

A sketch of the CPU interface is shown below.


	 XWWWWWWWWWWWWWWWWWY			  XWWWWWWWWWWWWWWWWWY
	 V		   V  XWWWWWWWWWWWWWWWW\  V		    V
	 V		   V  V address signals ^ V		    V
	 V		   V  V    (A0-A2)	] V		    V
	 V		   V  ZWWWWWWWWWWWWWWWW/  V		    V
	 V		   V  XWWWWWWWWWWWWWWWW\  V		    V
	 V	C P U	   V  V conrol signals	^ V	O P L 4     V
	 V		   V  V  (/CS,/RD,/WR)	] V		    V
	 V		   V  ZWWWWWWWWWWWWWWWW/  V		    V
	 V		   V  ]WWWWWWWWWWWWWWWW\  V		    V
	 V		   V ]	   data bus	^ V		    V
	 V		   V ^	   (D0-D7)	] V		    V
	 V		   V  ^WWWWWWWWWWWWWWWW/  V		    V
	 ZWWWWWWWWWWWWWWWWW[			  ZWWWWWWWWWWWWWWWWW[


Sound generation is control by writing data to the registers.
An 8-bit parallel CPU interface is provided for this purpose.
A0 to A2 are address signals and D0 to D7 compremisethe bi-directional data
bus. /CS,/RD and /WR are control input signals.
This LSI has the modes shown below which depend on these input signals.

  XWWWWWRWWWWWRWWWWWRWWWWWRWWWWWRWWWWWRWWWWWRWWWWWWWWWWWWWWWWWWWWWWWWWY
  V	V /CS V /RD V /WR V /A0 V /A1 V /A2 V	      MODE	      V
  TWWWWWUWWWWWUWWWWWUWWWWWUWWWWWUWWWWWUWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWS
  V	V  H  V  X  V  X  V  X	V  X  V  X  V	 Inactive mode	      V
  V	V  L  V  L  V  H  V  L	V  L  V  L  V	 Status read mode     V
  TWWWWWUWWWWWUWWWWWUWWWWWUWWWWWUWWWWWUWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWS
  V	V  L  V  H  V  L  V  L	V L/H V  L  V	 Address write mode   V
  V FM	V  L  V  H  V  L  V  H	V  X  V  L  V	 Data write mode      V
  V	V  L  V  L  V  H  V  H	V  X  V  L  V	 Data read mode       V
  TWWWWWUWWWWWUWWWWWUWWWWWUWWWWWUWWWWWUWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWS
  V	V  L  V  H  V  L  V  L	V  L  V  H  V	 Address write mode   V
  V PCM V  L  V  H  V  L  V  H	V  L  V  H  V	 Data write mode      V
  V	V  L  V  L  V  H  V  H	V  L  V  H  V	 Data read mode       V
  ZWWWWWQWWWWWQWWWWWQWWWWWQWWWWWQWWWWWQWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWW[
							 X: Don't Care

   ึ  Inactive Mode
      The data bus (D0-D7) becomes high-impedance when /CS is high.


   ึ  Address Write Mode
      In this mode, a write address is specified.
      Set the register address onto the data bus.
      To write or read data after the address is written a master clock wait of
	FM register ......... 56 Cycles
	PCM,MIX register .... 88 Cycles *
      is necessary.
      When register array 0 of FM is to be specified, A1 must be L. When
      register Array 1 is to be specified, A1 must be H.

   ึ  Data Write Mode

      In this mode, data is written to the address set in the address write
      mode.
      Set the data onto the data bus.
      56 master clock cycles (for FM) or 88 cycles (for PCM) are needed before
      the next address or data wrtie cycle.*

   ึ  Data Read Mode

      In this mode, data is read from the addressset in the address write mode.
      PCM and MIX register can be read. (FM registers can't be read.)

   ึ  Status Read Mode

      In this mode, the status of this LSI is output. The status information
      on the data bus.

      *  Address setting (PCM registers 03H to 05H) to external memory and
	 external memory data write/read wait time is different from these
	 values.
	 See the description of each register for more information.


STATUS REGISTER
฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿รรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรร
				  XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
 The structure of the status	 XQWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
 register is shown at the right. V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
				 TWWWWUWWWWUWWWWUWWWWQWWWWQWWWWUWWWWUWWWWS V
				 V IRQV FT1V FT2V	       V LD VBusyTW[
				 ZWWWWQWWWWQWWWWQWWWWWWWWWWWWWWQWWWWQWWWW[

   ึ FT1, FT2, IRQ

     The flags for the two timers built into the YMF278B are set in accordance
     with the set cycle. The CPU can read these flags by status information
     and interrupt signal. These timers can be used as the tempo counter, etc.

     ึ FT1 (Flag Timer 1): Timer 1 flag
       This bit becomes "1" when the time set at timer 1 is counted.
       It is reset when RST of FM register 04H is set the to "1".

     ึ FT2 (Flag Timer 2): Timer 2 flag
       This bit becomes "1" when the time set at timer 2 is counted.
       Similar to FT1, it is reset when the RST bit is set the to "1".

     ึ IRQ (Interrupt ReQuest): Interrupt request flag
       This bit becomes "1" when FT1 or FT2 becomes "1".
       It is rest when the RST bit is set to "1".

   ึ BUSY

     ึ This flag becomes valid after the 05H_NEW2 bit of FM register array 1
       is set to "1". (When NEW2 is "0", the BUSY flag is always "0".)

     ึ This LSI requires a wait time at register acces.
       The BUSY bit is provided as the flag that inhibits register acces.
       When the BUSY flag is "1", do not execute a write or read operation,
       otherwise a mailfunction may occur.

     ึ The BUSY flag remains "1" while addresses and data are being written.
       It is automatically reset to "0" when writing is complete.
       Confirm that the BUSY flag is "0" before accessing a register.

   ึ LD (LOAD)

     ึ This flag becomes valid after the 05H_NEW2 bit of FM register array 1
       is set to "1". (When NEW2 is "0", the BUSY flag is always "0".)

     ึ At the wave table synthesizer, the wave table header data from external
       memory is loaded into the OPL4 by writing the wave table number to the
       registers. During this time, acces to some registers of that channel
       is inhibited.
       (Please see the section "PCM registers 08H to 2FH wave table number"
       for more information.)
       LD remains "1" while the header data is being loaded (approximately
       300uS).

  ึ The first value of the status register. (Device ID)

   ึ When the status is read after initialization at OPL2, 06H (D1 and D2 bit
     ="1") is output.
     For OPL3, 00H is read.
     For the YMF278B, when the status is read after NEW2 was set to "1", 02H
     is output.
     After reading this bit is reset.
     However, 02H is read only once after initialization.
     The device ID register can be used as LSI identifier.

OVERVIEW OF WAVE TABLE SYNTHESIS
฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿รรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรร

   ึ Features
     FM synthesis can generate a wide range of sounds, from the sounds of
     natural musical instruments to electronic sound, depending on the setting
     of the operators and the algorithm form. However, it is limited near the
     the sound of natural musical instruments.

     In simple term, wave table synthesis plays back external memory sampled
     data and can therefor faithfully reproduce the sounds of natural musical
     instruments. Of course, it is not limited to the sounds of natural musical
     instruments, but can also faithfully reproduce any sound as long as
     sampling data is available.

   ึ Wave table synthesis block diagram
     The Wave table synthesis block diagram is shown below.

		XWWWWWWWWWWY		XWWWWWWWWWWWWWY
		V	   V  ]WWWWWWWY V	      V 	 XWWWWWWY
		V	   V ] AddressV V	      V WWWWWWW> V D/A	V
		V	   V ^ ControlV V	      V 	 V	V
		V	   V  ^WWWWWWW[ V	      V 	 ZWWWWWW[
		V External V		V     OPL4    V
		V  memory  V		V	      V 	 XWWWWWWY
		V	   V XWWWWWWW^	V	      V WWWWWWW> V YSS	V
		V	   V V data   > V	      V 	 V 225	V
		V	   V ZWWWWWWW]	V	      V 	 ZWWWWWW[
		ZWWWWWWWWWW[		ZWWWWWWWWWWWWW[

   ึ External memory
     This block stores the sampled data and the information (start and
     end adresses, evelop data, etc.) needed to generate sounds.

   ึ OPL4
     This block outputs the external memory address and control signal and
     reads the memory data and generates sounds from the sampled data.
     Of course, envelop and pitch, level control, and various sound effects
     (vibrato and tremelo, panpot, etc.) can be added in the OPL4.

     The OPL4 handles 8, 12, and 16 bit sampling data. The sampling frequency
     is 44.1Khz. Therefore, playback at CD quality is possible.

   ึ D/A converter and effect processor (YSS225)
     The D/A converter converts the 16 bit, 44.1Khz digital data output from
     the OPL4 to analog data. An effect processor (YSS225) which can add
     reverberation, echo, flange and other sound effects, is also available.
     Higher quality playback is possible by connecting this LSI to it.

Since the OPL4 can digitally mix FM and wave table sounds, sounds over a wide
wave table range, from sounds unique to FM to the sound of natural musical
instruments, can be generated. Up to 44 sounds can be generated simultaneously
as well. More advanced functions and higher quality than the OPL3 multi-media
sound synthesizer are possible.


REGISTER TABLE FOR WAVE TABLE SYNTHESIS AND MIXING
฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿รรรรรรรรรรรรรรรรรรรรรรรรรรรรร

XWWWWWRWWWWWWWWRWWWWWWWWRWWWWWWWWRWWWWWWWWRWWWWWWWWRWWWWWWWWRWWWWWWWWRWWWWWWWWY
V     V   D7   V   D6	V   D5	 V   D4   V   D3   V   D2   V	D1   V	 D0   V
TWWWWWUWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWS
V 00H V 			       LSI TEST 			      V
V 01H V 								      V
TWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWRWWWWWWWWWWWWWWWWWWWWWWWWWWRWWWWWWWWRWWWWWWWWS
V     V 	Device ID	 V     Wave Table header    V Memory V Memory V
V 02H V 			 V			    V  Type  V acces  V
V     V 			 V    2        1	0   V	     V mode   V
TWWWWWUWWWWWWWWQWWWWWWWWUWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWS
V     V 		V	  Memory address register		      V
V 03H V 		V   21	     20       19       18	17	 16   V
TWWWWWUWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWS
V     V 		       Memory address register			      V
V 04H V   15	   14	    13	     12       11       10	 9	  8   V
TWWWWWUWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWS
V     V 		       Memory address register			      V
V 05H V    7	    6	     5	      4        3	2	 1	  0   V
TWWWWWUWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWS
V     V 			 Memory data register			      V
V 06H V    7	    6	     5	      4        3	2	 1	  0   V
TWWWWWUWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWS
V 07H V 								      V
TWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 08H-V 			  Wave Table Number			      V
V 1FH V   N7	   N6	    N5	     N4       N3       N2	N1	 N0   V
TWWWWWUWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWUWWWWWWWWS
V     V 							     V Wave   V
V 20H-V 			 F-NUMBER			     V Table  V
V  37HV 							     V Number V
V     V   F6	   F5	    F4	     F3       F2       F1	F0   V	 N8   V
TWWWWWUWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWUWWWWWWWWUWWWWWWWWQWWWWWWWWQWWWWWWWWS
V 38H V 	      Octave		  V pseudo V	     F-NUMBER	      V
V  4FHV   O3	   O2	    O1	     O0   V reverb V   F9	F8	 F7   V
TWWWWWUWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWUWWWWWWWWS
V 50H-V 			 Total level			     V Level  V
V  67HV    6	    5	     4	      3        2	1	 0   V direct V
TWWWWWUWWWWWWWWUWWWWWWWWUWWWWWWWWUWWWWWWWWUWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWS
V 68H V   KEY  V  DAMP	V  LFO	 V   CH   V		Pan pot 	      V
V  7FHV   ON   V	V  RST	 V	  V    3	2	 1	  0   V
TWWWWWUWWWWWWWWQWWWWWWWWUWWWWWWWWQWWWWWWWWQWWWWWWWWUWWWWWWWWQWWWWWWWWQWWWWWWWWS
V 80H-V 		V	     LFO	   V	       VIB	      V
V  97HV 		V   S2	     S1       S0   V   V2	V1	 V0   V
TWWWWWUWWWWWWWWWWWWWWWWWQWWWWWWWWQWWWWWWWWUWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWS
V 98H-V 		AR		  V		   D1R		      V
V  AFHV    3	    2	     1	      0   V    3	2	 1	  0   V
TWWWWWUWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWUWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWS
V B0H-V 		DL		  V		   D2R		      V
V  C7HV    3	    2	     1	      0   V    3	2	 1	  0   V
TWWWWWUWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWUWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWS
V C8H-V 	 Rate correction	  V		   RR		      V
V  DFHV    3	    2	     1	      0   V    3	2	 1	  0   V
TWWWWWUWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWUWWWWWWWWQWWWWWWWWQWWWWWWWWS
V E0H-V 					   V		AM	      V
V  F7HV 					   V	2	 1	  0   V
TWWWWWUWWWWWWWWWWWWWWWWWRWWWWWWWWWWWWWWWWWWWWWWWWWWUWWWWWWWWQWWWWWWWWQWWWWWWWWS
V     V 		V   Mixing control (FM_R)  V   Mixing control (FM_L)  V
V F8H V 		V    2	      1        0   V	2	 1	  0   V
TWWWWWUWWWWWWWWWWWWWWWWWUWWWWWWWWQWWWWWWWWQWWWWWWWWUWWWWWWWWQWWWWWWWWQWWWWWWWWS
V     V 		V  Mixing control (PCM_R)  V  Mixing control (PCM_L)  V
V F9H V 		V    2	      1        0   V	2	 1	  0   V
ZWWWWWQWWWWWWWWWWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWWQWWWWWWWW[

Notes:

1. These registers can not be accessed unless the NEW2 bit of the FM register
   is to "1".
2. LSI TEST are used for factory testing. Always set them to "0" for normal
   operation.
3. After initialization, the F8_MIX register is made -9dB as the default
   value. The other registers are cleared.
4. "Empty places" by the YMF278B may be used to expand the functions.
   Therefore, always set them to "0".


CHANNEL
฿฿฿฿฿฿฿รรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรร

  ึ Channel number.
    The wave table synthesizer can generate up to 24 sounds simultaneously.
    Each sound is referred as a "channel". The channels are numbered from
    1 to 24. These numbers are called "channel numbers".

  ึ Relation between channel and register
    As can been seen from the register table, register 08 to 1FH and 20 to 37H
    have 24 addresses. The addresses corresponding to each register.

    Set the register corresponding to each channel.

REGISTERS (WAVE TABLE SYNTHESIZER)
฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿รรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรร

ึ 00H-01H LSI TEST
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  These registers are used   XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  for LSI testing.	     V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  All the bits should be set V 00- TWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWS V
  left at "0" for normal     V 01H V               LSI TEST                TW[
  Operation.		     ZWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW[


ึ 02H MEMORY ACCESS MODE
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  When set to "0", this is   XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  the normal sound	     V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  generation mode.	     V 02H TWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWUWWWWS V
  When set to "1", the CPU   V     V                                  V ma TW[
  can read and write data    ZWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWQWWWW[
  to and from the external memory. All the channels can
  not generate sound in this mode.

ึ 02H MEMORY TYPE
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  This register represents   XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  what external memory can   V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  be connected. 	     V 02H TWWWWQWWWWQWWWWQWWWWQWWWWQWWWWUWWWWUWWWWS V
  When set to "0",ROM only   V     V                             V mt V    TW[
  When set to "1",SRAM plus  ZWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWWWWWQWWWWQWWWW[
  ROM.
  For a description of the external memmory connection method, see the section
  "Connection to External Memory".
  
  NOTE: This register will only select what kind of chip select signals are 
	used. ROM only doesn't mean that only ROM can be connected in that 
	mode.


ึ 02H WAVE TABLE HEADER
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  The wave table header must XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  be set from external memoryV	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  address 0 for wave table   V 02H TWWWWQWWWWQWWWWUWWWWQWWWWQWWWWUWWWWQWWWWS V
  header numbers 0 to 383 of V	   V		  V  2	  1    0 V	   TW[
  wave tables 0 to 511.      ZWWWWWQWWWWWWWWWWWWWWQWWWWWWWWWWWWWWQWWWWWWWWW[
  (For a description of the header structure, see the section "external Memory
  Data Format".)
  When bits D2,D3 and D4 are all "0", specify all 512 headers from memory
  address 0.

ึ 02H Device ID
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  When this register is read,XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  20H (D5="1",D6="0",D6="0") V     V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  is output This register canV 02H TWWWWQWWWWQWWWWUWWWWQWWWWQWWWWQWWWWQWWWWS V
  be used as ID register of  V	   V  2    1	0 V			   TW[
  the OPL4.		     ZWWWWWQWWWWWWWWWWWWWWQWWWWWWWWWWWWWWWWWWWWWWWW[

The external memory setting area of the wave table header from wave table
numbers 384 to 511 can changed in 4Mbit (128KB) segments.
The header setting areas corresponding to wave header bit 0 to 2 are shown in
the table below.

XWWWWWWWWWWRWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWRWWWY
V D4 D3 D2 V		  Header set external memory			  VFIGV
TWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWUWWWS
V  0  0  0 V Header from wave table number 0 to 511 set from addres 0	  V 1 V
V  0  0  1 V Header from wave table number 384 to 511 set from 4Mbit area V 2 V
V  0  1  0 V Header from wave table number 384 to 511 set from 8Mbit area V 3 V
V  0  1  1 V Header from wave table number 384 to 511 set from 12Mbit areaV 4 V
V  1  0  0 V Header from wave table number 384 to 511 set from 16Mbit areaV 5 V
V  1  0  1 V Header from wave table number 384 to 511 set from 20Mbit areaV 6 V
V  1  1  0 V Header from wave table number 384 to 511 set from 24Mbit areaV 7 V
V  1  1  1 V Header from wave table number 384 to 511 set from 28Mbit areaV 8 V
ZWWWWWWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWQWWW[


     Address (HEX)   External memory address space   Header setting area

	  000000h    XยยยยยยยยยยยยยยยยยยยยยยยยยยยY  WWWWWWW> 1
		     V				 V
	  080000h    TS  WWWWWWW> 2
		     V				 V
	  100000h    TS  WWWWWWW> 3
		     V				 V
	  180000h    TS  WWWWWWW> 4
		     V				 V
	  200000h    TS  WWWWWWW> 5
		     V				 V
	  280000h    TS  WWWWWWW> 6
		     V				 V
	  300000h    TS  WWWWWWW> 7
		     V				 V
	  380000h    TS  WWWWWWW> 8
		     V				 V
	  3FFFFFh    ZWWWWWWWWWWWWWWWWWWWWWWWWWWW[

     (Total 32Mbits)			ยยยยยย: Wave Table header setting area


ึ 03H-5H MEMORY ADDRESS REGISTERS
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  These registers are used toXQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  specify the addresses of   V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  external memory to be      V 03H TWWWWQWWWWUWWWWQWWWWQWWWWQWWWWQWWWWQWWWWS V
  written to or read from.   V	   V	     V 21   20	 19   18   17	16 TW[
			     ZWWWWWQWWWWWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWWWWW[
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  Address setting is	     XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  completed when 05H is set. V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  Always set the addresses   V 04H TWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWS V
  sequentially from the      V	   V 15   14   13   12	 11   10    9	 8 TW[
  highest-order address.     ZWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW[
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  This address is incrementedXQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  automatically every time   V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  data is written to or read V 05H TWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWS V
  from external memory.      V	   V  7    6	5    4	  3    2    1	 0 TW[
			     ZWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW[

ึ 06H MEMORY DATA REGISTER

			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  Data is written to the     XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  currently set external     V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  memory address by writing  V 06H TWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWS V
  to this register. Data fromV	   V  7    6	5    4	  3    2    1	 0 TW[
  the currently set external ZWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW[
  memory address is read by reading this register.


ึ 08H-3FH WAVE TABLE NUMBER

			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  The OPL4 supports op to 512XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  Wave Tables.		     V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
			     V 08- TWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWS V
  The wave table number that V 1FH V N7   N6   N5   N4	 N3   N2   N1	N0 TW[
  is to generate a sound is  ZWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW[
  selected from among 0 to    XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  511 and the wave table     XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  header data set in the     V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  external memory is auto-   V 20- TWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWUWWWWS V
  matically loaded into the  V 3FH V				      V N8 TW[
  LSI by setting this	     ZWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWQWWWW[
  register.

  Setting of the Wave Table Number is completed when the Wave Table Number
  (N0-N7) is set. Therefore, always set the Wave Table Number (N0-N7) after
  Wave Table Number (N8).

  Do not acces the Wave Table Number,LFO, VIB , AR, D1R, DL, D2R, rate
  correction, RR or AM register of that channel while a Wave Table header is
  being loaded, otherwise a malfunction may occur.
  The registers of other channels can be accessed.

  It takes approximately 300uS for the header to be loaded.
  Bit D1 of the status register is the flag indicating that a header is being
  loaded.


ึ 20H-4FH F-NUMBER, OCTAVE

			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  These registers are used toXQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  control the pitch.	     V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
			     V 20- TWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWUWWWWS V
  F_NUMBER is a postive      V 37H V F6   F5   F4   F3	 F2   F1   F0 V    TW[
  number (0 - 1023) and      ZWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWQWWWW[
  octaven is a 2's complement XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  number (-7 to +7).	     XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  Do not set -8 at octave    V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
			     V 38- TWWWWQWWWWQWWWWQWWWWQWWWWUWWWWQWWWWQWWWWS V
  When F_NUMBER is "0" and   V 4FH V                        V F9   F8   F7 TW[
  ocateve is "1", the wave   ZWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWQWWWWWWWWWWWWWW[
  data in the external memory XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  is played back at 44.1kHz. XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  This is reffered to as     V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  normal pitch F(c) = 0.     V 38- TWWWWQWWWWQWWWWQWWWWUWWWWQWWWWQWWWWQWWWWS V
  (c:Cent)		     V 4FH V O3   O2   O1   O0 V		   TW[
			     ZWWWWWQWWWWWWWWWWWWWWWWWWWQWWWWWWWWWWWWWWWWWWW[

  ล The offset from normal pitch is calculated from the following equation.


	   XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
	   V					    1024 + F_NUMBER  V
	   V F(c) = 1200 * (OCTAVE - 1) + 1200 log2 WWWWWWWWWWWWWWW  V
	   V						 1024	     V
	   ZWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW[
    however, 1 octave = 1200c


  The following equations can be used for calculating the F_NUMBER and OCTAVE
  for the desired playback frequency.

  f1 is the desired playback frequency in this equation.

		XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
		V				    V
		V		   f1		    V
		V     X = Log WWWWWWWWWW	    V
		V	       172,265625	    V
		V				    V
		V     f2 = 172,265625 * 2^INT[X]    V
		V				    V
		V     OCTAVE = -7 + INT[X]	    V
		V				    V
		V	      (f1-f2) * 1024	    V
		V     F_NUM = WWWWWWWWWWWWWW	    V
		V		   f2		    V
		V				    V
		ZWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW[


NOTE: if f1-f2 = 0 than F-num is 0.


ึ 38H-4FH PSEUDO-REVERB
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  A reverberation effect can XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  be apllied to the generatedV	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  sound.		     V 38- TWWWWQWWWWQWWWWQWWWWUWWWWUWWWWQWWWWQWWWWS V
			     V 4FH V		       V REVV		   TW[
			     ZWWWWWQWWWWWWWWWWWWWWWWWWWQWWWWQWWWWWWWWWWWWWW[
  "0": Pseudo-Reverb Effect OFF
  "1": Pseudo-Reverb Effect ON

  When the envelop reaches -18dB when the REV bit is set to "1", the value of
  the D1R,D2R and RR registers are ignored and the reverb rate (Rate=5) is set
  automatically. This is illustrated in the file "PSREVERB.BMP".

ึ 50H-67H TOTAL LEVEL
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  The total level is in this XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  register. Attenuation is   V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  given by the following     V 50- TWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWUWWWWS V
  equatation:		     V 67H V L6   L5   L4   L3	 L3   L1   L0 V    TW[
			     ZWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWQWWWW[

  Total level [dB] =
  
(-24*L6) + (-12*L5) + (-6*L4) + (-3*L3) + (-1.5*L2) + (-0.75*L1) + (-0.3754*L0)


ึ 50H-67H LEVEL DIRECT
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  This register is used to   XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  select how the envelop     V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  level was changed during   V 50- TWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWUWWWWS V
  sound generation.	     V 67H V				      VLED TW[
			     ZWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWQWWWW[
  "0"....Total level is changed while being interpolated.
  "1"....Total level immediately becomes the set value.

  When the level was interpolated, the time from minimum volume to maximum
  volume is 78.2msec and the time from maximum to minimum volume is 156.4msec.

ึ 68H-7FH KEY ON
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  This register controls     XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  sound generation.	     V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
			     V 68- TWWWWUWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWS V
  "0": Key off               V 7FH VK.ONV                                  TW[
  "1": Key on                ZWWWWWQWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW[



ึ 68H-7FH DAMP
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  Forced damping can be en-  XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  abled by making this	     V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  register "1" in the decay  V 68- TWWWWUWWWWUWWWWQWWWWQWWWWQWWWWQWWWWQWWWWS V
  state.		     V 7FH V	VDAMPV				   TW[
			     ZWWWWWQWWWWQWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWWWWW[
  The damping effect muffles the sound ny making the decay and release rate
  times shorter.

  "0"...Enable set rate
  "1"...Disable set rate automatically change to damp rate internally.

  Damping is applied as shown in the table below dependig on the elapsed time.

  XWWWWWWWWWWWRWWWWWRWWWWWRWWWWWRWWWWWY     see "DAMPING.BMP"
  V Time(msec)V 5.8 V 8.0 V 9.4 V 10.9V
  TWWWWWWWWWWWUWWWWWUWWWWWUWWWWWUWWWWWS
  V ATT.(dB)  V -12 V -48 V -72 V -96 V
  ZWWWWWWWWWWWQWWWWWQWWWWWQWWWWWQWWWWW[
  Pseudo-reverb is disabled during damping.

ึ 68H-7FH LFO RESET
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  An LFO (Low frequency      XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  Oscillator) is build into  V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  this LSI for the vibrato   V 68- TWWWWQWWWWUWWWWUWWWWQWWWWQWWWWQWWWWQWWWWS V
  and tremelo functions.     V 7FH V	     VLFORV			   TW[
			     ZWWWWWQWWWWWWWWWQWWWWQWWWWWWWWWWWWWWWWWWWWWWWW[

  LFOR controls the operation of the this LFO.
  "0": Active
  "1": Deactivate and reset LFO


ึ 68H-7FH OUTPUT CHANNEL SELECTION
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  This register selects the  XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  output channel. The sound  V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  of a selected channel is   V 68- TWWWWQWWWWQWWWWUWWWWUWWWWQWWWWQWWWWQWWWWS V
  mixed with the FM sound    V 7FH V		  V CH V		   TW[
  and is output from the DO2 ZWWWWWQWWWWWWWWWWWWWWQWWWWQWWWWWWWWWWWWWWWWWWW[
  pin by setting this bit to "0".
  The sound of a selected channel is output from the DO1 pin by settingn its
  bit to "1".


ึ 68H-7FH PANPOT
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  This register controls     XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  panpot (sound position).   V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
			     V 68- TWWWWQWWWWQWWWWQWWWWUWWWWQWWWWQWWWWQWWWWS V
  The set values and L and R V 7FH V		       V  3    2    1	 0 TW[
  output levels are shown in ZWWWWWQWWWWWWWWWWWWWWWWWWWQWWWWWWWWWWWWWWWWWWW[
  the table below.

XWWWWWWWWWWWWWRWWWRWWWRWWWRWWWRWWWRWWWRWWWRWWWRWWWRWWWRWWWRWWWRWWWRWWWRWWWRWWWY
VPanpot       V 0 V 1 V 2 V 3 V 4 V 5 V 6 V 7 V 8 V 9 V 10V 11V 12V 13V 14V 15V
TWWWWWWWWWRWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWS
V Output  V L V 0 V-3 V-6 V-9 V-12V-15V-18V ์ V ์ V 0 V 0 V 0 V 0 V 0 V 0 V 0 V
VLevel(dB)TWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWS
V	  V R V 0 V 0 V 0 V 0 V 0 V 0 V 0 V 0 V ์ V ์ V-18V-15V-12V-9 V-6 V-3 V
ZWWWWWWWWWQWWWQWWWQWWWQWWWQWWWQWWWQWWWQWWWQWWWQWWWQWWWQWWWQWWWQWWWQWWWQWWWQWWW[

ึ 80H-97H LFO
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  This register specifies    XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  the LFO speed.	     V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
			     V 80- TWWWWQWWWWUWWWWQWWWWQWWWWUWWWWQWWWWQWWWWS V
  The vibrato and tremelo    V 97H V	     V S2   S1	 S0 V		   TW[
  oscilation frequency is    ZWWWWWQWWWWWWWWWQWWWWWWWWWWWWWWQWWWWWWWWWWWWWW[
  determined by the specified LFO oscillation frequency as shown in the table
  below.

  XWWWWWWWWWWWWWWWWRWWWWWRWWWWWRWWWWWRWWWWWRWWWWWRWWWWWRWWWWWRWWWWWY
  V LFO Value	   V  0  V  1  V  2  V	3  V  4  V  5  V  6  V	7  V
  TWWWWWWWWWWWWWWWWUWWWWWUWWWWWUWWWWWUWWWWWUWWWWWUWWWWWUWWWWWUWWWWWS
  V LFO Freq. (Hz) V0.168V2.019V3.196V4.206V5.215V5.888V6.224V7.066V
  ZWWWWWWWWWWWWWWWWQWWWWWQWWWWWQWWWWWQWWWWWQWWWWWQWWWWWQWWWWWQWWWWW[


ึ 80H-97H VIB
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  This register specifies    XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  the vibrato depth.	     V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
			     V 80- TWWWWQWWWWQWWWWQWWWWQWWWWUWWWWQWWWWQWWWWS V
  The vibrato depth is	     V 97H V			    V V2   V1	V0 TW[
  determined by the written  ZWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWQWWWWWWWWWWWWWW[
  value as shown in the table below.

  XWWWWWWWWWWWWWWWWWWWRWWWWWRWWWWWWRWWWWWWRWWWWWWRWWWWWWRWWWWWWRWWWWWWRWWWWWWY
  V	 Value	      V  0  V  1   V  2   V  3	 V  4	V  5   V  6   V  7   V
  TWWWWWWWWWWWWWWWWWWWUWWWWWUWWWWWWUWWWWWWUWWWWWWUWWWWWWUWWWWWWUWWWWWWUWWWWWWS
  V Vibrato depth (c) V off V 3.378V 5.065V 6.750V10.114V20.170V40.108V79.307V
  ZWWWWWWWWWWWWWWWWWWWQWWWWWQWWWWWWQWWWWWWQWWWWWWQWWWWWWQWWWWWWQWWWWWWQWWWWWW[

ึ 98H-AFH AR
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  This register specifies    XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  the attack rate.	     V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
			     V 98- TWWWWQWWWWQWWWWQWWWWUWWWWQWWWWQWWWWQWWWWS V
  For a description of how toV AFH V  3    2	1    0 V		   TW[
  find the envelop waveform  ZWWWWWQWWWWWWWWWWWWWWWWWWWQWWWWWWWWWWWWWWWWWWW[
  and rate value, see the sections "Envelop","How to calculate the Actual
  Rate" and "Relation Between Rate Value and Actual Time".

ึ 98H-AFH D1R
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  This register specifies    XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  the decay 1 rate.	     V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
			     V 98- TWWWWQWWWWQWWWWQWWWWUWWWWQWWWWQWWWWQWWWWS V
  For a description of how toV AFH V		       V  3    2    1	 0 TW[
  find the envelop waveform  ZWWWWWQWWWWWWWWWWWWWWWWWWWQWWWWWWWWWWWWWWWWWWW[
  and rate value, see the sections "Envelop","How to calculate the Actual
  Rate" and "Relation Between Rate Value and Actual Time".

ึ B0H-C7H DL
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  This register specifies    XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  the decay level.	     V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  The decay level is given byV B0- TWWWWQWWWWQWWWWQWWWWUWWWWQWWWWQWWWWQWWWWS V
  the following equation:    V C7H V DL3  DL2  DL1  DL0V		   TW[
			     ZWWWWWQWWWWWWWWWWWWWWWWWWWQWWWWWWWWWWWWWWWWWWW[
  Decay Level [dB]=(-24*DL3)+(-12*DL2)+(-6*DL1)+(-3*DL0)
	When all the bits are "1", the decay level becomes -93dB.

ึ B0H-C7H D2R
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  This register specifies    XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  the decay 2 rate.	     V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
			     V B0- TWWWWQWWWWQWWWWQWWWWUWWWWQWWWWQWWWWQWWWWS V
  For a description of how toV C7H V		       V  3    2    1	 0 TW[
  find the envelop waveform  ZWWWWWQWWWWWWWWWWWWWWWWWWWQWWWWWWWWWWWWWWWWWWW[
  and rate value, see the sections "Envelop","How to calculate the Actual
  Rate" and "Relation Between Rate Value and Actual Time".

ึ C8H-DFH RR
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  This register specifies    XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  the release rate.	     V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
			     V C8- TWWWWQWWWWQWWWWQWWWWUWWWWQWWWWQWWWWQWWWWS V
  For a description of how toV DFH V		       V  3    2    1	 0 TW[
  find the envelop waveform  ZWWWWWQWWWWWWWWWWWWWWWWWWWQWWWWWWWWWWWWWWWWWWW[
  and rate value, see the sections "Envelop","How to calculate the Actual
  Rate" and "Relation Between Rate Value and Actual Time".

ึ C8H-DFH RATE CORRECTION
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  This is the rate correctionXQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  value at (Eq.1) of the "HowV     V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  to Calculate the Actual    V C8- TWWWWQWWWWQWWWWQWWWWUWWWWQWWWWQWWWWQWWWWS V
  Rate".                     V DFH V  3    2    1    0 V                   TW[
			     ZWWWWWQWWWWWWWWWWWWWWWWWWWQWWWWWWWWWWWWWWWWWWW[
  This value determines the degree of rate scalling.
  "Rate scalling" simulates speeding up of the rate as the interval becomes
  higher.

  When all the bits are set to "1", scalling is turned off, otherwhise scaling
  is carried out in accordance with the "How to calculate the Actual Rate"
  correction value.

ึ E0H-F7H AM
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  This register specifies    XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  the tremelo depth.	     V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
			     V E0- TWWWWQWWWWQWWWWQWWWWQWWWWUWWWWQWWWWQWWWWS V
  The tremelo depth is	     V F7H V			    V V2   V1	V0 TW[
  determined by the written  ZWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWQWWWWWWWWWWWWWW[
  value as shown in the table below.

  XWWWWWWWWWWWWWWWWWWWRWWWWWRWWWWWWRWWWWWWRWWWWWWRWWWWWWRWWWWWWRWWWWWWRWWWWWWY
  V	 Value	      V  0  V  1   V  2   V  3	 V  4	V  5   V  6   V  7   V
  TWWWWWWWWWWWWWWWWWWWUWWWWWUWWWWWWUWWWWWWUWWWWWWUWWWWWWUWWWWWWUWWWWWWUWWWWWWS
  V Tremelo depth (dB)V off V 1.781V 2.906V 3.656V 4.406V 5.906V 7.406V 11.91V
  ZWWWWWWWWWWWWWWWWWWWQWWWWWQWWWWWWQWWWWWWQWWWWWWQWWWWWWQWWWWWWQWWWWWWQWWWWWW[


ึ F8H-F9H MIX CONTROL
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  This register specifies    XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  the MIX level of the FM andV	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  PCM output from DO2 pin.   V F8H TWWWWQWWWWUWWWWQWWWWQWWWWUWWWWQWWWWQWWWWS V
  The MIX lvel is determined V	   V	     VMIX_con(FM_R) VMIX_con(FM_L) TW[
  by the written value as    ZWWWWWQWWWWWWWWWQWWWWWWWWWWWWWWQWWWWWWWWWWWWWW[
  shown in the table below.   XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  After the YMF278B is reset,XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  FM_MIX control(F8H) becomesV	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  -9dB as the default value  V F9H TWWWWQWWWWUWWWWQWWWWQWWWWUWWWWQWWWWQWWWWS V
  and PCM_MIX control (F9H)  V	   V	     VMIX_con(PCM_R)VMIX_con(PCM_L)TW[
  becomes 0dB to balance the ZWWWWWQWWWWWWWWWQWWWWWWWWWWWWWWQWWWWWWWWWWWWWW[
  FM sound and PCM volume.

  XWWWWWWWWWWWWWWWRWWWWWRWWWWWRWWWWWRWWWWWRWWWWWRWWWWWRWWWWWRWWWWWY
  V	 Value	  V  0	V  1  V  2  V  3  V  4	V  5  V  6  V  7  V
  TWWWWWWWWWWWWWWWUWWWWWUWWWWWUWWWWWUWWWWWUWWWWWUWWWWWUWWWWWUWWWWWS
  V MIX level (dB)V  0	V -3  V -6  V -9  V -12 V -15 V -18 V -์  V
  ZWWWWWWWWWWWWWWWQWWWWWQWWWWWQWWWWWQWWWWWQWWWWWQWWWWWQWWWWWQWWWWW[

ENVELOP
฿฿฿฿฿฿฿รรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรร

ึ ENVELOP GRAPH

  The envelop is shown in "ENVELOP.BMP"


ึ kEY ON AND ENVELOP
 
  The relationship between key on, key off, and the envelop is show in
  "RELAKOKO.BMP"
  For non-percussive sounds, set D2R=0 (RATE=0, real time =์).

HOW TO CALCULATE THE ACTUAL RATE
฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿รรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรร

The actual rate time can be calculated finding the RATE of (Eq.1) below and
referring to the section "Relation Between Rate Value and Actual Time" on
the next page.

Rate is calculated from the following equation:

       XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
      XQWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY V
      V RATE = (OCT + rate correction ) * 2 + f9 + RD..... (Eq.1) TW[
      ZWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW[

      OCT	      : Octave value (-7 to +7) set registers 38H to 4FH
      f9	      : F_NUMBER f9 value (0 or 1) set in registers 38H to 4FH
      Rate Correction : Rate correction value (0 to 14) of registers C8H to DFH

RD in (Eq.1) above is determined by the value set in AR, D1R , D2R and RR.
The relation of the AR, D1R , D2R and RR set value and RD is shown in the 
table below.


XWWWWWWWWWWWWWWWWRWWWRWWWRWWWRWWWRWWWRWWWRWWWRWWWRWWWRWWWRWWWRWWWRWWWRWWWRWWWY
VAR, D1R, D2R, RRV 1 V 2 V 3 V 4 V 5 V 6 V 7 V 8 V 9 V 10V 11V 12V 13V 14V 15V
TWWWWWWWWWWWWWWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWS
V(Eq.1) RD value V 4 V 8 V 12V 16V 20V 24V 28V 32V 36V 40V 44V 48V 52V 56V 63V
ZWWWWWWWWWWWWWWWWQWWWQWWWQWWWQWWWQWWWQWWWQWWWQWWWQWWWQWWWQWWWQWWWQWWWQWWWQWWW[

However, when rate is more than 63 at Eq.1, it is always set on 63.
When AR=D1R=D2R=RR="0", RATE is set to "0".
When AR=D1R=D2R=RR="15", RATE is set to "63".


RELATION BETWEEN RATE VALUE AND ACTUAL TIME
฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿รรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรร

ึ Attack rate							    (Unit:ms)

XWWWWWWRWWWWWWWWWWWWWWRWWWWWWWWWWWWWWY	 XWWWWWRWWWWWWWWWWWWWWRWWWWWWWWWWWWWWY
V RATE V Time (0-100%)V Time (10-90%)V	 VRATE V Time (0-100%)V Time (10-90%)V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   0  V      ์       V       ์      V	 V  32 V     48.62    V     29.02    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   1  V      ์       V       ์      V	 V  33 V     38.91    V     23.27    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   2  V      ์       V       ์      V	 V  34 V     32.43    V     19.37    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   3  V      ์       V       ์      V	 V  35 V     27.80    V     16.60    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   4  V   6222.95    V   3715.19    V	 V  36 V     24.31    V     14.51    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   5  V   4978.37    V   2972.20    V	 V  37 V     19.46    V     11.51    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   6  V   4148.66    V   2476.83    V	 V  38 V     16.24    V      9.70    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   7  V   3556.01    V   2122.99    V	 V  39 V     13.92    V      8.30    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   8  V   3111.47    V   1857.60    V	 V  40 V     12.15    V      7.26    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   9  V   2489.21    V   1486.12    V	 V  41 V      9.75    V      5.85    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  10  V   2074.33    V   1238.41    V	 V  42 V      8.12    V      4.85    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  11  V   1778.00    V   1061.50    V	 V  43 V      6.98    V      4.17    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  12  V   1555.74    V    928.80    V	 V  44 V      6.08    V      3.63    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  13  V   1244.63    V    743.08    V	 V  45 V      4.90    V      2.95    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  14  V   1037.19    V    619.23    V	 V  46 V      4.08    V      2.45    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  15  V    889.02    V    530.75    V	 V  47 V      3.49    V      2.09    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  16  V    777.87    V    464.40    V	 V  48 V      3.04    V      1.81    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  17  V    622.31    V    371.56    V	 V  49 V      2.49    V      1.45    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  18  V    518.59    V    309.61    V	 V  50 V      2.13    V      1.22    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  19  V    444.54    V    265.40    V	 V  51 V      1.90    V      1.09    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  20  V    388.93    V    232.20    V	 V  52 V      1.72    V      0.95    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  21  V    311.16    V    185.80    V	 V  53 V      1.41    V      0.77    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  22  V    259.32    V    154.83    V	 V  54 V      1.18    V      0.63    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  23  V    222.27    V    132.70    V	 V  55 V      1.04    V      0.54    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  24  V    194.47    V    116.10    V	 V  56 V      0.91    V      0.50    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  25  V    155.60    V     92.93    V	 V  57 V      0.73    V      0.36    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  26  V    129.66    V     77.41    V	 V  58 V      0.59    V      0.27    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  27  V    111.16    V     66.35    V	 V  59 V      0.50    V      0.27    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  28  V     97.23    V     58.05    V	 V  60 V      0.45    V      0.23    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  29  V     77.82    V     46.49    V	 V  61 V      0.45    V      0.23    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  30  V     64.85    V     38.73    V	 V  62 V      0.45    V      0.23    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  31  V     55.60    V     33.20    V	 V  63 V      0.00    V      0.00    V
ZWWWWWWQWWWWWWWWWWWWWWQWWWWWWWWWWWWWW[	 ZWWWWWQWWWWWWWWWWWWWWQWWWWWWWWWWWWWW[


ึ Decay and release rate					    (Unit:ms)

XWWWWWWRWWWWWWWWWWWWWWRWWWWWWWWWWWWWWY	 XWWWWWRWWWWWWWWWWWWWWRWWWWWWWWWWWWWWY
V RATE V Time (0-100%)V Time (10-90%)V	 VRATE V Time (0-100%)V Time (10-90%)V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   0  V      ์       V       ์      V	 V  32 V    696.60    V    148.75    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   1  V      ์       V       ์      V	 V  33 V    557.32    V    119.37    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   2  V      ์       V       ์      V	 V  34 V    464.44    V     99.41    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   3  V      ์       V       ์      V	 V  35 V    398.10    V     85.08    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   4  V  89164.63    V  19040.36    V	 V  36 V    348.30    V     74.38    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   5  V  71331.75    V  15278.73    V	 V  37 V    278.68    V     59.68    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   6  V  59443.13    V  12724.54    V	 V  38 V    232.24    V     49.71    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   7  V  50951.25    V  10890.16    V	 V  39 V    199.05    V     42.54    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   8  V  44582.31    V   9520.18    V	 V  40 V    174.15    V     37.19    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   9  V  35665.90    V   7639.37    V	 V  41 V    139.37    V     29.84    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  10  V  29721.59    V   6362.27    V	 V  42 V    116.15    V     24.85    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  11  V  25475.65    V   5445.08    V	 V  43 V     99.55    V     21.32    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  12  V  22291.16    V   4760.09    V	 V  44 V     87.07    V     18.59    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  13  V  17832.97    V   3819.68    V	 V  45 V     69.71    V     14.92    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  14  V  14860.82    V   3181.13    V	 V  46 V     58.10    V     12.43    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  15  V  12737.82    V   2722.54    V	 V  47 V     49.80    V     10.66    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  16  V  11145.58    V   2380.05    V	 V  48 V     43.54    V      9.23    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  17  V   8916.51    V   1909.84    V	 V  49 V     34.83    V      7.44    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  18  V   7430.43    V   1590.57    V	 V  50 V     29.02    V      6.08    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  19  V   6368.93    V   1361.27    V	 V  51 V     24.90    V      5.31    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  20  V   5572.79    V   1190.02    V	 V  52 V     21.77    V      4.67    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  21  V   4458.28    V    954.92    V	 V  53 V     17.41    V      3.72    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  22  V   3715.24    V    795.28    V	 V  54 V     14.51    V      3.13    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  23  V   3184.49    V    680.63    V	 V  55 V     12.43    V      2.68    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  24  V   2786.39    V    595.01    V	 V  56 V     10.08    V      2.36    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  25  V   2229.16    V    477.46    V	 V  57 V      8.71    V      1.95    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  26  V   1857.64    V    397.64    V	 V  58 V      7.23    V      1.59    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  27  V   1592.24    V    340.32    V	 V  59 V      6.21    V      1.36    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  28  V   1393.20    V    297.51    V	 V  60 V      5.44    V      1.18    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  29  V   1114.60    V    238.73    V	 V  61 V      5.44    V      1.18    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  30  V    928.84    V    198.82    V	 V  62 V      5.44    V      1.18    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  31  V    796.15    V    170.16    V	 V  63 V      5.44    V      1.18    V
ZWWWWWWQWWWWWWWWWWWWWWQWWWWWWWWWWWWWW[	 ZWWWWWQWWWWWWWWWWWWWWQWWWWWWWWWWWWWW[



EXTERNAL MEMORY DATA FORMAT
฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿รรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรร


         XWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY
 Address V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V
	 TWWWWQWWWWUWWWWQWWWWQWWWWQWWWWQWWWWQWWWWUWWWWWWWWWWWWWW
  0000H  V DATA BITV	   Start address	 V	/\
	 V D1	D0 V S21  S20  S19V S18  S17  S16V	V
	 TWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWS	V
  0001H  V	      Start address		 V	V
	 V S15	S14  S13  S12  S11  S10  S9   S8 V	V
	 TWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWS	V
  0002H  V	      Start address		 V	V
	 V S7	S6   S5   S4   S3   S2	 S1   S0 V	V
	 TWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWS	V
  0003H  V	     Loop address		 V	V
	 V L15	L14  L13  L12  L11  L10  L9   L8 V	V
	 TWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWS	V
  0004H  V	     Loop address		 V	V
	 V L7	L6   L5   L4   L3   L2	 L1   L0 V	V
	 TWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWS	V
  0005H  V	     End address		 V	V
	 V E15	E14  E13  E12  E11  E10  E9   E8 V	V
	 TWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWS	V
  0006H  V	     End address		 V  Wave number
	 V E7	E6   E5   E4   E3   E2	 E1   E0 V 0 header part
	 TWWWWQWWWWUWWWWQWWWWQWWWWUWWWWQWWWWQWWWWS  (12 bytes)
  0007H  V	   V	  LFO	  V	VIB	 V	V
	 V	   V S2   S1   S0 V  V2  V1   V0 V	V
	 TWWWWWWWWWQWWWWQWWWWUWWWWQWWWWQWWWWQWWWWS	V
  0008H  V	   AR	     V	      D1R	 V	V
	 V  3	 2    1    0 V	3    2	  1   0  V	V
	 TWWWWWWWWWQWWWWQWWWWUWWWWQWWWWQWWWWQWWWWS	V
  0009H  V	   DL	     V	      D2R	 V	V
	 V  3	 2    1    0 V	3    2	  1   0  V	V
	 TWWWWWWWWWQWWWWQWWWWUWWWWQWWWWQWWWWQWWWWS	V
  000AH  V  Rate correction  V	      RR	 V	V
	 V  3	 2    1    0 V	3    2	  1   0  V	V
	 TWWWWQWWWWQWWWWQWWWWQWWWWUWWWWQWWWWQWWWWS	V
  000BH  V			  V	 AM	 V	V
	 V			  V  2	  1    0 V	\/
    .	 TWWWWWWWWWWWWWWWWWWWWWWWWQWWWWQWWWWQWWWWUWWWWWWWWWWWWWW
    .	 V    Wave number 1 header (12 bytes)	 V
    .	 V					 V
    .	 TWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
    .	 V    Wave number 2 header (12 bytes)	 V
	 V					 V
	 TWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
	 V		     .			 V
	 ~		     .			 ~   Header part
	 ~		     .			 ~	/\
	 V		     .			 V	V
	 TWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS	V
	 V   Wave number 383 header (12 bytes)	 V	V
	 V					 V	V
	 TWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWUWWWWWWWWWWWWWWW
	 V	      16-bit data format	 V	V
	 V D15	D14  D13  D12  D11  D10  D9   D8 V	V
	 TWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWS	V
	 V					 V	V
	 V D7	D6   D5   D4   D3   D2	 D1   D0 V	\/
	 TWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWS Wave data part
	 V	      12-bit data format	 V
         V D11  D10  D9   D8   D7   D6   D5   D4 V
	 TWWWWQWWWWQWWWWQWWWWUW---+----+----+---WS
	 V		     V			 V
	 V D3	D2   D1   D0 V D3   D2	 D1   D0 V
	 TW---+----+----+---WQWWWWQWWWWQWWWWQWWWWS
	 V					 V
         V D7   D6   D5   D4   D3   D2   D1   D0 V
	 TWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWS
	 V		8-bit data format	 V
	 V D7	D6   D5   D4   D3   D2	 D1   D0 V
	 ZWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWW[

HEADER PART
฿฿฿฿฿฿฿฿฿฿฿รรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรร

ึ DATA BIT
			       XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  These bits specify the      XQWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  waveform data bit length.   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  The data bit length for     TWWWWQWWWWUWWWWQWWWWQWWWWQWWWWQWWWWQWWWWS V
  each set value is shown     V  1    0 V			      TW[
  below.		      ZWWWWWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWWWWW[

XWWWWRWWWWRWWWWWWWWWWWWWWWWWY
V D7 V D6 V Data bit length V
TWWWWUWWWWUWWWWWWWWWWWWWWWWWS
V  0 V	0 V	 8 bits     V
V  0 V	1 V	12 bits     V
V  1 V	0 V	16 bits     V
V  1 V	1 V   Prohibited    V
ZWWWWQWWWWQWWWWWWWWWWWWWWWWW[

ึ START ADDRESS
			       XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  The wave data read start    XQWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  address is shown by externalV D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  memory address.	      TWWWWQWWWWUWWWWQWWWWQWWWWQWWWWQWWWWQWWWWS V
			      V 	V A21  A20  A19  A18  A17  A16V V
			      TWWWWWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS V
  For 12-bit data, always     V A15  A14  A13  A12  A11  A10   A9   A8V V
  specify the start address   TWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS V
  beginning from bit 8 of     V  A7   A6   A5	A4   A3   A2   A1   A0TW[
  the higher order byte.      ZWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW[


ึ LOOP ADDRESS
			       XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  When the wave data read     XQWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  address reaches the end     V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  address, the wave data is   TWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWS V
  re-read from the address    V L15  L14  L13  L12  L11  L10   L9  L8 V V
  specified by the loop       TWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS V
  address.		      V  L7   L6   L5	L4   L3   L2   L1   L0TW[
			      ZWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW[
  Always specify the difference of one address subtracted from the number
  of data from the start address.

ึ END ADDRESS
			       XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  Shows the wave data read    XQWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  end address.		      V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
			      TWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWS V
  Specify the end address     V E15  E14  E13  E12  E11  E10   E9  E8 V V
  by substracting one from theTWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS V
  number of data from the     V  E7   E6   E5	E4   E3   E2   E1   E0TW[
  start address and inverting ZWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW[
  all the bits.


  NOTE: The start address is specified in bytes and the Loop and End address
	are specified in samples.



ึ START, END, AND LOOP ADDRESSES

  This section explains how the wave data is played back.
  
  The wave data is read from the start address and when the wave data read
  address exeeds the end address, the read address returns to the loop address
  and the address is counted up again from the loop address to the end
  address.
  The waveform is reproduced by repeating this process.

  This is illustrated in "LOOPING.BMP"

  Note: A loop address end address must be specified for all the sounds


CONNECTION TO EXTERNAL MEMORY
฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿รรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรร

This section describes how the memory interface signal output from the
YMF278 is connected to external memory.

/MSC0 to /MSC9 are avialable as external memory chip select signals. For the
chip select connections, see the section "External Memory Chip Select Signals".

The method of connecting a 16Mbit ROM and a 1Mbit SRAM is shown below as an
example.


ึ 16Mbit connection method (ROM)

	   XWWWWWWWWWWWWWWWY			XWWWWWWWWWWWWWWWY
	   V		   V Memory chip select V		V
	   V	       /MCSTWWWWWWWWWWWWWWWWWWWWS/CS		V
	   V	 OPL4	   V	Read enable	V	16M	V
	   V	       /MRDTWWWWWWWWWWWWWWWWWWWWS/OE	ROM	V
	   V		   V			V		V
	   V		   V			V		V
	   V		   V XWWWWWWWWWWWWWWW\	V		V
	   V	   MA0-MA20V V Memory address / VA0-A20 	V
	   V		   V ZWWWWWWWWWWWWWWW/	V		V
	   V		   V  /WWWWWWWWWWWWWWWY V		V
	   V	      MD0-7V \	  Memory data V VO0-7		V
	   V		   V  \WWWWWWWWWWWWWWW[ V		V
	   ZWWWWWWWWWWWWWWW[			ZWWWWWWWWWWWWWWW[


ึ 1Mbit connection method (SRAM)

	   XWWWWWWWWWWWWWWWY			XWWWWWWWWWWWWWWWY
	   V		   V Memory chip select V		V
	   V	       /MCSTWWWWWWWWWWWWWWWWWWWWS/CS		V
	   V	 OPL4	   V	Read enable	V	1M	V
	   V	       /MRDTWWWWWWWWWWWWWWWWWWWWS/OE   SRAM	V
	   V		   V   Write enable	V		V
	   V		   TWWWWWWWWWWWWWWWWWWWWS		V
	   V		   V XWWWWWWWWWWWWWWW\	V		V
	   V	   MA0-MA16V V Memory address / VA0-A16 	V
	   V		   V ZWWWWWWWWWWWWWWW/	V		V
	   V		   V  /WWWWWWWWWWWWWWWY V		V
	   V	      MD0-7V \	  Memory data V VO0-7		V
	   V		   V  \WWWWWWWWWWWWWWW[ V		V
	   ZWWWWWWWWWWWWWWW[			ZWWWWWWWWWWWWWWW[


EXTERNAL MEMORY CHIP SELECT SIGNALS
฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿รรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรร

The YMF278B can be used with 1M, 4M, 8M, and 16Mbit memories. Up to 32M bits
can be connected.
/MSC0 to /MSC9 are output as the external memory (ROM, SRAM) chip select
signals. Chip select signals /MSC0 TO /MSC9 determine the memory capacity that
is connected to the address space.
This section describes 16M, 8M, and 4M as ROM and 1M bit as SRAM.

ึ ROM only configuration (02H-memory type "0")


  ึ 16Mbit chip select signals

				      XWWWWWWWWWWWWWWY
      XWWWWWWWWWWWWWY		      V 	     V
      V 	    V		      V 	     V
      V 	    V /MSC0 connected V 	     V
      V 	    TWWWWWWWWWWWWWWWWWS     16M      V	 Address  000000h
      V 	    V		      V     ROM      V		 -1FFFFFh
      V 	    V		      V 	     V
      V 	    V		      V 	     V
      V   O P L 4   V		      T--------------S
      V 	    V		      V 	     V
      V 	    V		      V 	     V
      V 	    V /MSC1 connected V 	     V
      V 	    TWWWWWWWWWWWWWWWWWS     16M      V	 Address  200000h
      V 	    V		      V     ROM      V		 -3FFFFFh
      V 	    V		      V 	     V
      ZWWWWWWWWWWWWW[		      V 	     V
				      ZWWWWWWWWWWWWWW[

  ึ 8Mbit chip select signals

				      XWWWWWWWWWWWWWWY
      XWWWWWWWWWWWWWY /MSC2 connected V 	     V
      V 	    TWWWWWWWWWWWWWWWWWS   8M ROM     V Address	000000h-0FFFFFh
      V 	    V		      V 	     V
      V 	    V		      T--------------S
      V 	    V /MSC3 connected V 	     V
      V 	    TWWWWWWWWWWWWWWWWWS   8M ROM     V Address	100000h-1FFFFFh
      V 	    V		      V 	     V
      V   O P L 4   V		      T--------------S
      V 	    V /MSC4 connected V 	     V
      V 	    TWWWWWWWWWWWWWWWWWS   8M ROM     V Address	200000h-2FFFFFh
      V 	    V		      V 	     V
      V 	    V		      T--------------S
      V 	    V /MSC5 connected V 	     V
      V 	    TWWWWWWWWWWWWWWWWWS   8M ROM     V Address	300000h-3FFFFFh
      ZWWWWWWWWWWWWW[		      V 	     V
				      ZWWWWWWWWWWWWWW[

  ึ 4Mbit chip select signals

				      XWWWWWWWWWWWWWWY
      XWWWWWWWWWWWWWY		      V 	     V
      V 	    V		      V 	     V
      V 	    V		      V 	     V
      V 	    V		      V 	     V
      V 	    V		      V 	     V
      V 	    V		      V 	     V
      V 	    V		      V 	     V
      V   O P L 4   V /MSC6 connected TWWWWWWWWWWWWWWS
      V 	    TWWWWWWWWWWWWWWWWWS    4M ROM    V Address	200000h-27FFFFh
      V 	    V /MSC7 connected T--------------S
      V 	    TWWWWWWWWWWWWWWWWWS    4M ROM    V Address	280000h-2FFFFFh
      V 	    V /MSC8 connected T--------------S
      V 	    TWWWWWWWWWWWWWWWWWS    4M ROM    V Address	300000h-37FFFFh
      V 	    TY/MSC9 connected T--------------S
      ZWWWWWWWWWWWWW[ZWWWWWWWWWWWWWWWWS    4M ROM    V Address	380000h-3FFFFFh
				      ZWWWWWWWWWWWWWW[

  ึ To connection examples are shown below.


		      XWWWWWWWWWWWWWWY			      XWWWWWWWWWWWWWWY
XWWWWWWWWWWWWWY       V 	     V	XWWWWWWWWWWWWWY       V 	     V
V	      V       V 	     V	V	      V       V 	     V
V	      V /MSC0 V     16M      V	V	      V /MSC0 V     16M      V
V	      V  XWWWWS     ROM      V	V	      V  XWWWWS     ROM      V
V	      V  V    V 	     V	V	      V  V    V 	     V
V	      TWW[    V 	     V	V	      TWW[    V 	     V
V	      V       V 	     V	V	      V       V 	     V
V   O P L 4   V       TWWWWWWWWWWWWWWS	V   O P L 4   V /MSC6 TWWWWWWWWWWWWWWS
V	      V /MSC4 V 	     V	V	      TWWWWWWWS    4M ROM    V
V	      TWWWWWWWS    8M ROM    V	V	      V /MSC7 T--------------S
V	      V       V 	     V	V	      TWWWWWWWS    4M ROM    V
V	      V /MSC8 T--------------S	V	      V       T--------------S
V	      TWWWWWWWS    4M ROM    V	V	      V       V 	     V
V	      TY/MSC9 T--------------S	V	      V       V 	     V
ZWWWWWWWWWWWWW[ZWWWWWWS    4M ROM    V	ZWWWWWWWWWWWWW[       V 	     V
		      ZWWWWWWWWWWWWWW[			      ZWWWWWWWWWWWWWW[
  
ึ ROM + SRAM structure (02H-memory type "1")


  ึ 16Mbit chip select signal

				      XWWWWWWWWWWWWWWY
      XWWWWWWWWWWWWWY		      V 	     V
      V 	    V		      V 	     V
      V 	    V /MSC0 connected V 	     V
      V 	    TWWWWWWWWWWWWWWWWWS     16M      V	 Address  000000h
      V 	    V		      V     ROM      V		 -1FFFFFh
      V 	    V		      V 	     V
      V 	    V		      V 	     V
      V   O P L 4   V		      T--------------S
      V 	    V		      V 	     V
      V 	    V		      V 	     V
      V 	    V		      V 	     V
      V 	    V		      V 	     V	 Address  200000h
      V 	    V		      V 	     V		 -3FFFFFh
      V 	    V		      V 	     V
      ZWWWWWWWWWWWWW[		      V 	     V
				      ZWWWWWWWWWWWWWW[

  ึ 8Mbit chip select signals

				      XWWWWWWWWWWWWWWY
      XWWWWWWWWWWWWWY /MSC1 connected V 	     V
      V 	    TWWWWWWWWWWWWWWWWWS   8M ROM     V Address	000000h-0FFFFFh
      V 	    V		      V 	     V
      V 	    V		      T--------------S
      V 	    V /MSC2 connected V 	     V
      V 	    TWWWWWWWWWWWWWWWWWS   8M ROM     V Address	100000h-1FFFFFh
      V 	    V		      V 	     V
      V   O P L 4   V		      T--------------S
      V 	    V /MSC3 connected V 	     V
      V 	    TWWWWWWWWWWWWWWWWWS   8M ROM     V Address	200000h-2FFFFFh
      V 	    V		      V 	     V
      V 	    V		      T--------------S
      V 	    V		      V 	     V
      V 	    V		      V 	     V
      ZWWWWWWWWWWWWW[		      V 	     V
				      ZWWWWWWWWWWWWWW[

  ึ 4Mbit chip select signals

				      XWWWWWWWWWWWWWWY
      XWWWWWWWWWWWWWY		      V 	     V
      V 	    V		      V 	     V
      V 	    V		      V 	     V
      V 	    V		      V 	     V
      V 	    V		      V 	     V
      V 	    V		      V 	     V
      V 	    V		      V 	     V
      V   O P L 4   V /MSC4 connected TWWWWWWWWWWWWWWS
      V 	    TWWWWWWWWWWWWWWWWWS    4M ROM    V Address	300000h-37FFFFh
      V 	    V /MSC5 connected T--------------S
      V 	    TWWWWWWWWWWWWWWWWWS    4M ROM    V Address	380000h-3FFFFFh
      V 	    V		      T--------------S
      V 	    V		      V 	     V
      V 	    V		      V 	     V
      ZWWWWWWWWWWWWW[		      V 	     V
				      ZWWWWWWWWWWWWWW[

 ึ 1Mbit chip select signals

				      XWWWWWWWWWWWWWWY
    XWWWWWWWWWWWWWY		      V 	     V
    V		  V		      V 	     V
    V		  V		      V 	     V
    V		  V		      V 	     V
    V		  V		      V 	     V
    V		  V		      V 	     V
    V		  V/MSC6 connected    V 	     V
    V	O P L 4   TWWWWWWWWWWWWWWWWWWYT--------------S
    V		  V/MSC7 connected   VV 	     V
    V		  TWWWWWWWWWWWWWWWWWYVV 	     V
    V		  V/MSC8 connected  VVTWWWWWWWWWWWWWWS
    V		  TWWWWWWWWWWWWWWWY VZS   1M SRAM    V Address	300000h-37FFFFh
    V		  V/MSC9 connectedV ZWS   1M SRAM    V Address	300000h-37FFFFh
    V		  TWWWWWWWWWWWWWY ZWWWS   1M SRAM    V Address	300000h-37FFFFh
    ZWWWWWWWWWWWWW[		ZWWWWWS   1M SRAM    V Address	300000h-37FFFFh
				      ZWWWWWWWWWWWWWW[

  ึ To ROM + SRAM connection examples are shown below.


		      XWWWWWWWWWWWWWWY			      XWWWWWWWWWWWWWWY
XWWWWWWWWWWWWWY       V 	     V	XWWWWWWWWWWWWWY       V 	     V
V	      V       V 	     V	V	      V       V 	     V
V	      V /MSC0 V     16M      V	V	      V /MSC0 V     16M      V
V	      V  XWWWWS     ROM      V	V	      V  XWWWWS     ROM      V
V	      V  V    V 	     V	V	      V  V    V 	     V
V	      TWW[    V 	     V	V	      TWW[    V 	     V
V	      V       V 	     V	V	      V       V 	     V
V   O P L 4   V       TWWWWWWWWWWWWWWS	V   O P L 4   V       TWWWWWWWWWWWWWWS
V	      V /MSC3 V 	     V	V	      V       V 	     V
V	      TWWWWWWWS    8M ROM    V	V	      V       V 	     V
V	      V /MSC6 TWWWWWWWWWWWWWWS	V	      V       V 	     V
V	      TWWWWWWYTWWWWWWWWWWWWWWS	V	      V       V 	     V
V	      V /MSC7ZS   1M SRAM    V	V	      V /MSC6 TWWWWWWWWWWWWWWS
V	      TWWWWWWWS   1M SRAM    V	V	      TWWWWWWWS    1M SRAM   V
ZWWWWWWWWWWWWW[       TWWWWWWWWWWWWWWS	ZWWWWWWWWWWWWW[       TWWWWWWWWWWWWWWS
		      ZWWWWWWWWWWWWWW[			      ZWWWWWWWWWWWWWW[



OVERVIEW OF FM SYNTHESIZER
฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿รรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรร

ึ Wat is FM?
  "FM" is the abbreviation for "Frequency Modulation". The FM synthesis uses
  harmonics generated by frequency modulation to create music.
  The FM system can generate high harmonic components containing non-harmonic
  sounds with a comparatively simple circuit. Since the correspondence of the
  modulation index and harmonics spectral distribution is extremely natural, a
  wide range of sounds, from synthesization of the sounds of natural musical
  instruments to electronic sounds, can be produced.

ึ FM system structure
  The block diagram of the basic FM system is shown in Fig. 1-1.

      XWWWWWWWWWWWWWWWWWWWWWWWWWY	  XWWWWWWWWWWWWWWWWWWWWWWWWWY
      V 	       XWWWWWY	V	  V		   XWWWWWY  V
 "O" WUWWWWWWWWWW>(+)WWS SIN TWWUWWWWWWWWWUWWWWWWWWWW>(+)WWS SIN TWWUWW> FM(t)
      V 	   /\  ZWWWWW[	V	  V	       /\  ZWWWWW[  V
      V 	   V	  /\ B	V	  V	       V      /\ A  V
      V 	   V	  V	V	  V	       V      V     V
      V XWWWWWWY   V   XWWQWWY	V	  V XWWWWWWY   V   XWWQWWY  V
 ฺm  WUWS  PG  TWWW[   V  EG V	V    ฺc  WUWS  PG  TWWW[   V  EG V  V
      V ZWWWWWW[       ZWWWWW[	V	  V ZWWWWWW[	   ZWWWWW[  V
      ZWWWWWWWWWWWWWWWWWWWWWWWWW[	  ZWWWWWWWWWWWWWWWWWWWWWWWWW[
		Modulator			   Carrier

			  Fig. 1.1 Basic FM System


The part that generates one sine wave is called an "operator". A combination
of operators is called an "algorithm". The first stage operator is called the
"modulator" and the second stage operator is called the "carrier".
The frequency and envelop can be set for each operator.

ึ FM system equation
  The blockdiagram shown in Fig.1-1 is represented by Eq.(1).

	  FM(t)=A sin(ฺct+B sin ฺmt).......(1)

  Where A is the amplitude of operator 2, B is the amplitude of operator 1.ฺc
  is the angular frequency of operator 2, and ฺm is the angular frequency of
  operator 1.

  Equation 1 can be rewritten by applying the Fourier transform as shown below:

		   FM(t)=A[J0(B)sinฺct
		      +J1 (B) {ฺc+ฺm)t-sin(ฺc-ฺm)t}
		      +J2 (B) {ฺc+2ฺm)t-sin(ฺc-2ฺm)t}
		      +J3 (B) {ฺc+3ฺm)t-sin(ฺc-3ฺm)t}
		      +J4 (B) {ฺc+4ฺm)t-sin(ฺc-4ฺm)t}
		      ...........     ] 	      ....(2).

  Where, Jn(B) is an nth order Bessel function.
  As can be seen from Eq.(2), when modulation is applied, elements having
  frequencies of ฺc+ฺm, ฺc-ฺm, ฺc+2ฺm, ฺc-2ฺm, ฺc+3ฺm, ฺc-3ฺm,..., in addition
  to the original carrier frequency are mixed.
  These elements are called "harmonics". The frequency of these harmonics is
  determined by the modulator frequency and the carrier frequency. Their
  amplitude is determined by the modulator amplitude B.

ึ Feedback FM
  A system called "Feedback FM" is avialable to generate a wider range of
  sounds. This system modulates itself as shown in Fig.1-2.
  It is represented by Eq.(3)

					XWWWWWY
				    XWWWS  แ  TWWWWWWWY
				    V	ZWWWWW[       V
				    V		      V
		       XWWWWWWWWWWWWUWWWWWWWWWWWWY    V
		       V	    \/	XWWWWWY  V    V
		  "O" WUWWWWWWWWWW>(+)WWS SIN TWWUWWWWQWWWW>
		       V	    /\	ZWWWWW[  V
		       V	    V	   /\ B  V
		       V	    V	   V	 V
		       V XWWWWWWY   V	XWWQWWY  V
		   ฺ  WUWS  PG	TWWW[	V  EG V  V
		       V ZWWWWWW[	ZWWWWW[  V
		       ZWWWWWWWWWWWWWWWWWWWWWWWWW[

			Fig. 1.2 Feedback FM System


	  FM(t)=Asin{ฺt+แFM(t)}...... (3)


  Where, แ is the feedback rate. When feedback FM is used. the harmonic
  spectral becomes a sawtooth wave and the sound of a string instruments can
  be easily created.

  Since the YMF278B has four operators, the as the YMF262(OPL3), it can
  generate complex sounds.


REGISTER TABLE FOR FM SYNTHESIS
฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿รรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรร
The registers are compatible with the YMF262 (OPL3).
When all the registers are initialized exept C0H-C8H CHA and CHB bit, they
are cleared to (/IC="L").

 XWWWWWRWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY  XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
 Vaddr.V Register Array 0 (A1='L')     V  V Register Array 1 (A1='H')     V
 V     TWWWRWWWRWWWRWWWRWWWRWWWRWWWRWWWS  TWWWRWWWRWWWRWWWRWWWRWWWRWWWRWWWS
 V(HEX)V D7V D6V D5V D4V D3V D2V D1V D0V  V D7V D6V D5V D4V D3V D2V D1V D0V
 TWWWWWUWWWQWWWQWWWQWWWQWWWQWWWQWWWQWWWS  TWWWQWWWQWWWQWWWQWWWQWWWQWWWQWWWS
 V00-01V	     LSI test	       V  V		LSI test	  V
 TWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS  TWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
 V 02H V	     Timer 1	       V  V				  V
 TWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS  TWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
 V 03H V	     Timer 2	       V  V				  V
 TWWWWWUWWWWWWWWWWWRWWWWWWWWWWWRWWWWWWWS  TWWWWWWWRWWWWWWWWWWWWWWWWWWWWWWWS
 V 04H VRST MT1 MT2V	       VST2 ST1V  V	  V    CONNECTION SEL	  V
 TWWWWWUWWWQWWWQWWWQWWWWWWWWWWWQWWWQWWWS  TWWWWWWWQWWWQWWWQWWWQWWWUWWWUWWWS
 V 05H V			       V  V			  VNE2VNEWV
 TWWWWWUWWWRWWWRWWWWWWWWWWWWWWWWWWWWWWWS  TWWWWWWWWWWWWWWWWWWWWWWWQWWWQWWWS
 V 08H V   VNTSV		       V  V				  V
 TWWWWWUWWWUWWWUWWWRWWWRWWWRWWWRWWWRWWWS  TWWWRWWWRWWWRWWWRWWWRWWWRWWWRWWWS
 V20H- VAM VVIBVEGTVKSRV    MULT       V  VAM VVIBVEGTVKSRV    MULT	  V
 V 35H V   V   V   V   V 3   2	 1   0 V  V   V   V   V   V 3	2   1	0 V
 TWWWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWS  TWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWS
 V40H- V  KSL  V	   TL	       V  V  KSL  V	      TL	  V
 V 55H V 1   0 V L5  L4  L3  L2  L1  L0V  V 1	0 V L5	L4  L3	L2  L1	L0V
 TWWWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWS  TWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWS
 V60H- V       AR      V       DR      V  V	  AR	  V	  DR	  V
 V 75H V 3   2	 1   0 V 3   2	  1  0 V  V 3	2   1	0 V 3	2    1	0 V
 TWWWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWS  TWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWS
 V80H- V	SL     V	RR     V  V	   SL	  V	   RR	  V
 V 95H V 3   2	 1   0 V 3   2	 1   0 V  V 3	2   1	0 V 3	2   1	0 V
 TWWWWWUWWWQWWWQWWWQWWWQWWWQWWWQWWWQWWWS  TWWWQWWWQWWWQWWWQWWWQWWWQWWWQWWWS
 VA0H- V	 F-NUMBER (l)	       V  V	    F-NUMBER (l)	  V
 V A8H V 7   6	 5   4	 3   2	 1   0 V  V 7	6   5	4   3	2   1	0 V
 TWWWWWUWWWRWWWRWWWRWWWRWWWRWWWRWWWRWWWS  TWWWRWWWRWWWRWWWRWWWRWWWRWWWRWWWS
 VB0H- V       VKONV   BLOCK   VFNUM(H)V  V	  VKONV   BLOCK   VFNUM(H)V
 V B8H V       V   V B2  B1  B0V  9  8 V  V	  V   V B2  B1	B0V  9	8 V
 TWWWWWUWWWRWWWUWWWUWWWUWWWUWWWUWWWUWWWS  TWWWWWWWQWWWQWWWQWWWQWWWQWWWQWWWS
 V BDH VDAMVDVBVRYTV BDV SDVTOMV TCV HHV  V				  V
 TWWWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWS  TWWWRWWWRWWWRWWWRWWWRWWWRWWWRWWWS
 VC0H- VCHDVCHCVCHBVCHAV     FB    VCNTV  VCHDVCHCVCHBVCHAV	FB    VCNTV
 V C8H V   V   V   V   V 2    1  0 V   V  V   V   V   V   V 2	 1  0 V   V
 TWWWWWUWWWQWWWQWWWQWWWQWWWUWWWQWWWQWWWS  TWWWQWWWQWWWQWWWQWWWUWWWQWWWQWWWS
 V E0H-V		   V	 WS    V  V		      V     WS	  V
 V F5H V		   V W2  W1  W0V  V		      V W2  W1	W0V
 ZWWWWWQWWWWWWWWWWWWWWWWWWWQWWWQWWWQWWW[  ZWWWWWWWWWWWWWWWWWWWQWWWQWWWQWWW[

Notes:

1. The register array 1, 05H NEW2 (NE2) bit is expended from the YMF262 (OPL3)
   to the YMF278B (OPL4). For a detailed description of the NEW2 bit, see the
   description of the registers.
2. LSI TEST is used in factory testing. Always set it to "0" for normal
   operation.
3. Bits not used with the YMF278B may be used to expand the functions.
   Therefore, always set them to "0"




REGISTER SETTING
฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿รรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรร

The YMF278B has 36 circuits that generate a sine wave. Sounds are generated by
performing FM operations with these circuits.
A circuit which generates a sine wave is called a "slot". One sound unit is
generated by combining two or four operators is called a "channel".

ึ Setting of registers in slot units
  There are two kinds of sound generation control registers: registers
  settable in slot units and registers set in channel units.
  The registers tjat can be set in slot units are 20 to 35H, 40 to 55H, 60 to
  75H, 80 to 95H, and E0 to F5H.
  These registers do not have addresses x6H,x7H,xEH, or xFH. (Register address
  20 to 35H are shown as an example.)

XWWWWWWWWWWWWWWWWWWWY
V  Register address V
TWWWRWWWRWWWRWWWRWWWUWWWRRRWWWRWWWRWWWRWWWRWWWRWWWRRRWWWRWWWRWWWRWWWRWWWRWWWY
V20HV21HV22HV23HV24HV25HVVV28HV29HV2AHV2BHV2CHV25HVVV30HV31HV32HV33HV34HV35HV
ZWWWQWWWQWWWQWWWQWWWQWWWQQQWWWQWWWQWWWQWWWQWWWQWWWQQQWWWQWWWQWWWQWWWQWWWQWWW[

ึ Slot No.
  The 36 slots are numbers 1 to 36. These numbers are called "slot number". The
  relation between slot No. and register address set for each slot is show in
  the table below.

XWWWWWWWWWWWWRWWWWWWWWWWWWWWWWWWWWWWWWWRWWWWWWWWWWWWRWWWWWWWWWWWWWWWWWWWWWWWWWY
V  Slot No.  V	Set address (A1) = 0   V  Slot No.  V  Set address (A1) = 0   V
TWWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWS
V      1     V 20H  40H  60H  80H  E0H V     19     V  20H  40H  60H  80H  E0HV
TWWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWS
V      2     V 21H  41H  61H  81H  E1H V     20     V 21H  41H	61H  81H  E1H V
TWWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWS
V      3     V 22H  42H  62H  82H  E2H V     21     V 22H  42H	62H  82H  E2H V
TWWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWS
V      4     V 23H  43H  63H  83H  E3H V     22     V 23H  43H	63H  83H  E3H V
TWWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWS
V      5     V 24H  44H  64H  84H  E4H V     23     V 24H  44H	64H  84H  E4H V
TWWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWS
V      6     V 25H  45H  65H  85H  E5H V     24     V 25H  45H	65H  85H  E5H V
TWWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWS
V      7     V 28H  46H  66H  86H  E6H V     25     V 28H  46H	66H  86H  E6H V
TWWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWS
V      8     V 29H  49H  69H  89H  E9H V     26     V 29H  49H	69H  89H  E9H V
TWWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWS
V      9     V 2AH  4AH  6AH  8AH  EAH V     27     V 2AH  4AH	6AH  8AH  EAH V
TWWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWS
V     10     V 2BH  4BH  6BH  8BH  EBH V     28     V 2BH  4BH	6BH  8BH  EBH V
TWWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWS
V     11     V 2CH  4CH  6CH  8CH  ECH V     29     V 2CH  4CH	6CH  8CH  ECH V
TWWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWS
V     12     V 2DH  4DH  6DH  8DH  EDH V     30     V 2DH  4DH	6DH  8DH  EDH V
TWWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWS
V     13     V 30H  50H  70H  90H  F0H V     31     V 30H  50H	70H  90H  F0H V
TWWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWS
V     14     V 31H  51H  71H  91H  F1H V     32     V 31H  51H	71H  91H  F1H V
TWWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWS
V     15     V 32H  52H  72H  92H  F2H V     33     V 32H  52H	72H  92H  F2H V
TWWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWS
V     16     V 33H  53H  73H  93H  F3H V     34     V 33H  53H	73H  93H  F3H V
TWWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWS
V     17     V 34H  54H  74H  94H  F4H V     35     V 34H  54H	74H  94H  F4H V
TWWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWS
V     18     V 35H  55H  75H  95H  F5H V     36     V 35H  55H	75H  95H  F5H V
ZWWWWWWWWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWQWWWWWWWWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWW[

ึ Two-operator mode and slot and channel.
  In the operator mode, two mode slots are used to generate one FM sound.
  Consequently, since there are 36 slots, in two-operator mode, 18 channels of
  sounds can be generated.
  Channels are also numbered. the same as slots. These numbers are called the
  "channel number".
  For two operators, the following two algorithms are avialable:

     XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
    XQWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY V
    V	Algorithm 1			    Algorithm 2 		V V
    V									V V
    V	 XWWWWWWWWWWWWY  XWWWWWWWWWWWWY 	 XWWWWWWWWWWWWY 	V V
    V WW>S Operator 1 TWWS Operator 2 TWW>    WW>V Operator 1 TWWY	V V
    V	 ZWWWWWWWWWWWW[  ZWWWWWWWWWWWW[ 	 ZWWWWWWWWWWWW[  V	V V
    V	  Modulator	    Carrier				 TWW>	V V
    V						 XWWWWWWWWWWWWY  V	V V
    V					      WW>V Operator 2 TWW[	V V
    V						 ZWWWWWWWWWWWW[ 	V V
    V									TW[
    ZWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW[

  Algorithm 2 is the same regardless of the operator 1 and 2 slots. However,
  for algorithm 1, since the wave table depends on which slot is the carrier
  and which slot is the modulator, care must be given to the slot No.

  The slot No. corresponding to operators 1 and 2 is fixed. the channel number
  and slot numbers corresponding to operators 1 and 2 are shown in the table
  below.

	  XWWWWWRWWWWWWWWWWWWWWWWWWWWWWWWWWWWWRWWWWWWWWWWWWWWY
	  V	V	    Slot No.	      V 	     V
	  V  A1 TWWWWWWWWWWWWWWRWWWWWWWWWWWWWWS  Channel No. V
	  V	V  Operator 1  V  Operator 2  V 	     V
	  TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
	  V	V	1      V       4      V       1      V
	  V	V	2      V       5      V       2      V
	  V	V	3      V       6      V       3      V
	  V	TWWWWWWWWWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
	  V	V	7      V      10      V       4      V
	  V  0	V	8      V      11      V       5      V
	  V	V	9      V      12      V       6      V
	  V	TWWWWWWWWWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
	  V	V      13      V      16      V       7      V
	  V	V      14      V      17      V       8      V
	  V	V      15      V      18      V       9      V
	  TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
	  V	V      19      V      22      V      10      V
	  V	V      20      V      23      V      11      V
	  V	V      21      V      24      V      12      V
	  V	TWWWWWWWWWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
	  V	V      25      V      28      V      13      V
	  V  1	V      26      V      29      V      14      V
	  V	V      27      V      30      V      15      V
	  V	TWWWWWWWWWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
	  V	V      31      V      34      V      16      V
	  V	V      32      V      35      V      17      V
	  V	V      33      V      36      V      18      V
	  ZWWWWWQWWWWWWWWWWWWWWQWWWWWWWWWWWWWWQWWWWWWWWWWWWWW[

ึ Registers set in channel units (two-operator mode)
  The registers set in channel units are A0 to A8H, B0 to B8H, and C0 to C8H.
  The relation between channel number and set register address is shown in the
  table below. However, this relation is different in four-operator mode.
  (The four-operator mode will be described later.)

XWWWWWWWWWWWRWWWWWWWWWWWWWWWWWWWWWWWWWWRWWWWWWWWWWWRWWWWWWWWWWWWWWWWWWWWWWWWWWY
VChannel No.VSet register address(A1=0)VChannel No.VSet register address(A1=1)V
TWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWS
V      1    V	A0H	B0H	C0H    V     10    V   A0H     B0H     C0H    V
TWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWS
V      2    V	A1H	B1H	C1H    V     11    V   A1H     B1H     C1H    V
TWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWS
V      3    V	A2H	B2H	C2H    V     12    V   A2H     B2H     C2H    V
TWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWS
V      4    V	A3H	B3H	C3H    V     13    V   A3H     B3H     C3H    V
TWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWS
V      5    V	A4H	B4H	C4H    V     14    V   A4H     B4H     C4H    V
TWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWS
V      6    V	A5H	B5H	C5H    V     15    V   A5H     B5H     C5H    V
TWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWS
V      7    V	A6H	B6H	C6H    V     16    V   A6H     B6H     C6H    V
TWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWS
V      8    V	A7H	B7H	C7H    V     17    V   A7H     B7H     C7H    V
TWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWS
V      9    V	A8H	B8H	C8H    V     18    V   A8H     B8H     C8H    V
ZWWWWWWWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWWQWWWWWWWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWW[

ึ Four-operator mode and slot and channel.
  In the four-operator mode, four slots are used to generate one FM sound.
  Sounds can be generated simultaneously by six channels by using 24 slots.

  XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
 XQWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY V
 V    Algorithm 1							 V V
 V									 V V
 V    XWWWWWWWWWWWWWWY							 V V
 V    V XWWWWWWWWWWY V XWWWWWWWWWWY   XWWWWWWWWWWY  XWWWWWWWWWWY	 V V
 V   WQ>VOperator 1TWQWSOperator 2TWWWSOperator 3TWWSOperator 4TW>	 V V
 V	ZWWWWWWWWWW[   ZWWWWWWWWWW[   ZWWWWWWWWWW[  ZWWWWWWWWWW[	 V V
 V									 V V
 V    Algorithm 2							 V V
 V		       XWWWWWWWWWWWWWWY 				 V V
 V		       V XWWWWWWWWWWY V XWWWWWWWWWWY			 V V
 V		      WQ>VOperator 1TWQWSOperator 2TWWY 		 V V
 V			 ZWWWWWWWWWW[	ZWWWWWWWWWW[  V 		 V V
 V						      TWWW>		 V V
 V			 XWWWWWWWWWWY	XWWWWWWWWWWY  V 		 V V
 V		      WW>VOperator 3TWWWSOperator 4TWW[ 		 V V
 V			 ZWWWWWWWWWW[	ZWWWWWWWWWW[			 V V
 V    Algorithm 3							 V V
 V	       XWWWWWWWWWWWWWWY 					 V V
 V	       V XWWWWWWWWWWY V 					 V V
 V	      WQ>VOperator 1TWQWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY		 V V
 V		 ZWWWWWWWWWW[				     V		 V V
 V							     V		 V V
 V		 XWWWWWWWWWWY	XWWWWWWWWWWY   XWWWWWWWWWWY  V		 V V
 V	      WW>VOperator 2TWWWSOperator 3TWWWSOperator 4TWWQW>	 V V
 V		 ZWWWWWWWWWW[	ZWWWWWWWWWW[   ZWWWWWWWWWW[		 V V
 V									 V V
 V    Algorithm 4							 V V
 V	       XWWWWWWWWWWWWWWY 					 V V
 V	       V XWWWWWWWWWWY V 					 V V
 V	      WQ>VOperator 1TWQWWWWWWWWWWWWWWWWWWY			 V V
 V		 ZWWWWWWWWWW[			 V			 V V
 V						 V			 V V
 V		 XWWWWWWWWWWY	XWWWWWWWWWWY	 V			 V V
 V	      WW>VOperator 2TWWWSOperator 3TWWWWWUWWWW> 		 V V
 V		 ZWWWWWWWWWW[	ZWWWWWWWWWW[	 V			 V V
 V						 V			 V V
 V		 XWWWWWWWWWWY			 V			 V V
 V	      WW>VOperator 4TWWWWWWWWWWWWWWWWWWWW[			 V V
 V		 ZWWWWWWWWWW[						 V V
 V									 TW[
 ZWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW[

  In the four-operator mode, the slot numbers corresponding to operators 1, 2,
  3, and 4 are fixed, the same as in the two-operator mode.
  The channel No. and slot Nos. corresponding to operators 1, 2, 3, and 4 are
  shown in the table below.

    XWWWWWRWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWRWWWWWWWWWWWY
    V	  V			 Slot No.		      V 	  V
    V  A1 TWWWWWWWWWWWWRWWWWWWWWWWWWRWWWWWWWWWWWWRWWWWWWWWWWWWSChannel No.V
    V	  V Operator 1 V Operator 2 V Operator 3 V Operator 4 V 	  V
    TWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWS
    V	  V	 1     V       4    V	    7	 V	10    V     1	  V
    V	  TWWWWWWWWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWS
    V  0  V	 2     V       5    V	    8	 V	11    V     2	  V
    V	  TWWWWWWWWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWS
    V	  V	 3     V       6    V	    9	 V	12    V     3	  V
    TWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWS
    V	  V	19     V      22    V	   25	 V	28    V     4	  V
    V	  TWWWWWWWWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWS
    V  1  V	20     V      23    V	   26	 V	29    V     5	  V
    V	  TWWWWWWWWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWWUWWWWWWWWWWWS
    V	  V	21     V      24    V	   27	 V	30    V     6	  V
    ZWWWWWQWWWWWWWWWWWWQWWWWWWWWWWWWQWWWWWWWWWWWWQWWWWWWWWWWWWQWWWWWWWWWWW[


ึ Registers set in channel units (Four-operator mode)
  The registers set in channel units are A0 to A2H, B0 to B2H, and C0 to C2H.
  However, to select the four algorithms, only the CNT bit of C0 to C8 require
  setting other than C0 to C2H.
  For more information, see the CNT bit of the section "Registers".

XWWWWWWWWWWWRWWWWWWWWWWWWWWWWWWWWWWWWWWRWWWWWWWWWWWRWWWWWWWWWWWWWWWWWWWWWWWWWWY
VChannel No.VSet register address(A1=0)VChannel No.VSet register address(A1=1)V
TWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWS
V      1    V	A0H	B0H	C0H    V      4    V   A0H     B0H     C0H    V
TWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWS
V      2    V	A1H	B1H	C1H    V      5    V   A1H     B1H     C1H    V
TWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWS
V      3    V	A2H	B2H	C2H    V      6    V   A2H     B2H     C2H    V
ZWWWWWWWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWWQWWWWWWWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWW[

ึ Rhythm slot No.
  Rhythm uses six slots to generate the sounds of five musical instruments
  (bass drum, snare drum, tom-tom, top-cymbal, high hat). Slot numbers 13 to
  18 generate rhythm sounds. For the relation between slot No. and musical
  instrument, see the section "Registers".

ึ All 36 Slots
  How all 36 slots are used is summarized below.

  Slot Nos.1 to 12 can be used as the two-operator mode or four operator mode.
  Slot Nos.13 to 18 can be used as the two-operator mode or rhythm.
  Slot Nos.19 to 30 can be used as the two-operator mode or four operator mode.
  Slot Nos.31 to 36 can be used as the two-operator mode.


REGISTER (FM)
฿฿฿฿฿฿฿฿฿฿฿฿฿รรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรร

ึ 00H-01H LSI TEST
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  These registers are used   XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  for LSI testing.	     V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  All the bits should be set V 00- TWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWS V
  left at "0" for normal     V 01H V               LSI TEST                TW[
  Operation.		     ZWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW[
			      (REGISTER ARRAY 0,1)
ึ 02H TIMER 1
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  TIMER 1 is a 80.8uS	     XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  resolution timer.	     V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  Set the timer count value  V 02H TWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWS V
  in this register. The countV	   V		   TIMER 1		   TW[
  value that can be set is 0 ZWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW[
  to 255.		     (REGISTER ARRAY 0)

  The timer operation is described here.
  Counting is started by setting the timer count value and starting the timer.
  When the set time elapses, the flag becomes "1" and the /IRQ pin is made "L"
  and a timer interrupt is sent to the CPU. At the same time, the conut value
  is reloaded into the timer and counting is continued.

  Time t1 until the timer 1 flag is raised is given in the following equation:

  t1[ms] = (256 - N1) * 0.08   N1: Count value (0-255)


ึ 03H TIMER 2
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  TIMER 2 is a 323.1uS	     XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  resolution timer.	     V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  Set the timer count value  V 03H TWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWS V
  in this register.	     V	   V		   TIMER 2		   TW[
			     ZWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW[
			     (REGISTER ARRAY 0)

  Timer 2 operation is the same as timer 1.

  Time t2 until the timer 2 flag is raised is given in the following equation:

  t2[ms] = (256 - N2) * 0.32   N2: Count value (0-255)


  * Note:

    The resolution of timers 1 and 2 is somewhat different from that of the
    YMF262 (OPL3).

    ึ OPL3    Timer 1 ....... Resolution 80.5us
	      Timer 2 ....... Resolution 321.8us
    ึ OPL4    Timer 1 ....... Resolution 80.8us
	      Timer 2 ....... Resolution 323.1us

ึ 04H TIMER 1,2 CONTROL
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  This register controls the XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  starting and stopping of   V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  timer 1 and 2.	     V 04H TWWWWQWWWWQWWWWQWWWWQWWWWQWWWWUWWWWUWWWWS V
  ST1 is the timer 1 control V	   V				 V ST2V ST1TW[
  bit and ST2 is timer 2     ZWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWWWWWQWWWWQWWWW[
  control bit.		     (REGISTER ARRAY 0)
  When the pertinent bit is set to "1", the timer operates and when it is set
  to "0", the timer stops.

ึ 04H FLAG CONTROL
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  When MT1 is set to "1", theXQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  flag always becomes "0"    V     V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  regardless of timer 1      V 04H TWWWWUWWWWUWWWWUWWWWQWWWWQWWWWQWWWWQWWWWS V
  operation. (The /IRQ pin   V	   V RSTV MT1V MT2V			   TW[
  does not become "L"either.)ZWWWWWQWWWWQWWWWQWWWWQWWWWWWWWWWWWWWWWWWWWWWWW[
			      (REGISTER ARRAY 0)

  MT2 controls timer 2 the same as MT1 controls timer 1.

  When the RST bit is set to "1", the flags of status register bits D5,D6, and
  D7 are reset. The /IRQ pin becomes "H" level. (When pulled-up externally)
  After the flags are reset, the RST bit automatically returns to "0".

ึ 04H 4-OPERATOR MODE SETTING
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  When a bit is set to "1",  XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  the  corresponding slot    V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  can be used as the four-   V 04H TWWWWQWWWWUWWWWQWWWWQWWWWQWWWWQWWWWQWWWWS V
  operator mode 	     V	   V	     V	     CONNECTION SEL	   TW[
			     ZWWWWWQWWWWWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWWWWW[
			      (REGISTER ARRAY 1)
  The relationship between the
  CONNECTION SEL bits and four-operator mode channel No. is shown below.

  XWWWWWWWWWWWWWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY
  V CONNECTION SEL V D5 V D4 V D3 V D2 V D1 V D0 V
  TWWWWWWWWWWWWWWWWUWWWWUWWWWUWWWWUWWWWUWWWWUWWWWS
  V Four-operator  V	V    V	  V    V    V	 V
  V  channel No.   V  6 V  5 V	4 V  3 V  2 V  1 V
  V		   V	V    V	  V    V    V	 V
  ZWWWWWWWWWWWWWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWW[

  For the relationship between channel No. and slot No., see the section
  "Channel and Slot".

ึ 05H EXPANSION REGISTER
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  When accessing the	     XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  registers (REGISTER ARRAY1)V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  expand to OPL3 from OPL2,  V 05H TWWWWQWWWWQWWWWQWWWWQWWWWQWWWWUWWWWUWWWWS V
  the NEW bit must be set to V	   V				 VNEW2V NEWTW[
  "1".                       ZWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWWWWWQWWWWQWWWW[
			      (REGISTER ARRAY 1)
  When accessing the registers expanded to OPL4 from OPL3, the NEW2 bit must
  be set to "1".

  Since these bits become "0" after reset, when used as OPL4, set both the NEW
  and NEW2 bits to "1" before accessing the registers.

ึ 08H KEYBOARD SPLIT SELECTION
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  Eight octaves are split    XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  into a total of 16 and rateV	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  key scaling is performed   V 08H TWWWWUWWWWUWWWWQWWWWQWWWWQWWWWQWWWWQWWWWS V
  by splitting one octave in V	   V	V NTSV				   TW[
  half. 		     ZWWWWWQWWWWQWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWWWWW[
			      (REGISTER ARRAY 0)
  This octave splitting is called "keyboard split".

  NTS determines the keyboard split separation point.
  When NTS is set to "0", the separation point is determined by the higher two
  bits of the F number.
  When NTS is set to "1", the separation point is determined by the MSD of the
  F number.
  This is shown in the table below.

ึ NTS="0"
 XWWWWWWWWWWWWWWRWWWWWRWWWWWRWWWWWRWWWWWRWWWWWRWWWWWRWWWWWRWWWWWY
 V BLock Data	V  0  V  1  V  2  V  3	V  4  V  5  V  6  V  7	V
 TWWWWWWWWWWWWWWUWWRWWUWWRWWUWWRWWUWWRWWUWWRWWUWWRWWUWWRWWUWWRWWS
 V F-NUMBER MSB V* V* V* V* V* V* V* V* V* V* V* V* V* V* V* V* V
 TWWWWWWWWWWWWWWUWWUWWUWWUWWUWWUWWUWWUWWUWWUWWUWWUWWUWWUWWUWWUWWS
 V F-NUMBER 2ND V0 V1 V0 V1 V0 V1 V0 V1 V0 V1 V0 V1 V0 V1 V0 V1 V
 TWWWWWWWWWWWWWWUWWUWWUWWUWWUWWUWWUWWUWWUWWUWWUWWUWWUWWUWWUWWUWWS
 V Key Scale No.V0 V1 V2 V3 V4 V5 V6 V7 V8 V9 V10V11V12V13V14V15V
 ZWWWWWWWWWWWWWWQWWQWWQWWQWWQWWQWWQWWQWWQWWQWWQWWQWWQWWQWWQWWQWW[

ึ NTS="1"
 XWWWWWWWWWWWWWWRWWWWWRWWWWWRWWWWWRWWWWWRWWWWWRWWWWWRWWWWWRWWWWWY
 V BLock Data	V  0  V  1  V  2  V  3	V  4  V  5  V  6  V  7	V
 TWWWWWWWWWWWWWWUWWRWWUWWRWWUWWRWWUWWRWWUWWRWWUWWRWWUWWRWWUWWRWWS
 V F-NUMBER MSB V0 V1 V0 V1 V0 V1 V0 V1 V0 V1 V0 V1 V0 V1 V0 V1 V
 TWWWWWWWWWWWWWWUWWUWWUWWUWWUWWUWWUWWUWWUWWUWWUWWUWWUWWUWWUWWUWWS
 V F-NUMBER 2ND V* V* V* V* V* V* V* V* V* V* V* V* V* V* V* V* V
 TWWWWWWWWWWWWWWUWWUWWUWWUWWUWWUWWUWWUWWUWWUWWUWWUWWUWWUWWUWWUWWS
 V Key Scale No.V0 V1 V2 V3 V4 V5 V6 V7 V8 V9 V10V11V12V13V14V15V
 ZWWWWWWWWWWWWWWQWWQWWQWWQWWQWWQWWQWWQWWQWWQWWQWWQWWQWWQWWQWWQWW[

*: Don't care

ึ 20-35H,BDH TREMELO EFFECT
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  When AM is set to "1",a    XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  tremelo effect can be      V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  applied to the correspond- V 20- TWWWWUWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWS V
  ing slot. The tremelo      V 35H V AM V				   TW[
  frequency is 3.7Hz. Its    ZWWWWWQWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW[
  depth is determined by DAM. (REGISTER ARRAY 0,1)
  DAM="1":4.8dB               XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  DAM="0":1dB                XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
			     V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
			     V BDH TWWWWUWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWS V
			     V	   V DAMV				   TW[
			     ZWWWWWQWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW[
			      (REGISTER ARRAY 0)
       +V    /\    |	/\
	V   /  \   |   /  \
  Depth V  /	\  |  /    \
	V /	 \ | /	    \
	V/	  \|/	     \
       0TWWWWWWWWWWUWWWWWWWWWS
	|<W3.7HzWW>|

ึ 20-35H,BDH VIBRATO EFFECT
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  When VIB is set to "1",a   XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  vibrato effect can be      V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  applied to the correspond- V 20- TWWWWUWWWWUWWWWQWWWWQWWWWQWWWWQWWWWQWWWWS V
  ing slot.		     V 35H V	V VIBV				   TW[
  The vibrato modulation     ZWWWWWQWWWWQWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWWWWW[
  frequency is 6.0Hz. Its     (REGISTER ARRAY 0,1)
  depth determined by DVB.    XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  DVB="1":14 cent            XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  DVB="0":7 cent             V     V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  (One cent is a semi-tone   V BDH TWWWWUWWWWUWWWWQWWWWQWWWWQWWWWQWWWWQWWWWS V
  divided by 100.)	     V	   V	V DVBV				   TW[
			     ZWWWWWQWWWWQWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWWWWW[
			      (REGISTER ARRAY 0)
       +V    /\ 		   /\
	V   /  \		  /  \
	V  /	\		 /    \
	V /	 \		/      \
 Depth	V/	  \	       /	\
       0TWWWWWWWWWWUWWWWWWWWWWUWWWWWWWWWS
	|	    \	     /|
	|	     \	    / |
	|	      \    /  |
	|	       \  /   |
       -|		\/    |
	|<WWWWWWW 6.0Hz WWWWW>|

ึ 20-35H PERCUSSIVE SOUND/NON-PERCUSSIVE SOUND
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  EGT="0": Non-percussive    XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
	   sound	     V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  EGT="1": Percussive sound  V 20- TWWWWQWWWWUWWWWUWWWWQWWWWQWWWWQWWWWQWWWWS V
			     V 35H V	     V EGTV			   TW[
			     ZWWWWWQWWWWWWWWWQWWWWQWWWWWWWWWWWWWWWWWWWWWWWW[
			      (REGISTER ARRAY 0,1)
  The envelop waveform of each
  mode is shown in "PERNONPE.BMP".

ึ 20-35H RATE KEY SCALE
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  Rate key scaling is carriedXQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  out by setting KSR to "1". V     V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  "Key scaling" simulates theV 20- TWWWWQWWWWQWWWWUWWWWUWWWWQWWWWQWWWWQWWWWS V
  phenomena that speeds up   V 35H V		  V KSRV		   TW[
  the rise and fall of the   ZWWWWWQWWWWWWWWWWWWWWQWWWWQWWWWWWWWWWWWWWWWWWW[
  sound as the interval of    (REGISTER ARRAY 0,1)
  natural musical instruments increaes.

ึ Relation between rate value and actual time
  The actual ATTACK,DECAY, and RELEASE times are the sum of the rate value and
  the offset by key scaling below.
  The offset Rof by key scale (KSR) value is shown in the table below.


XWWWWWWWWWWWWRWWWRWWWRWWWRWWWRWWWRWWWRWWWRWWWRWWWRWWWRWWWRWWWRWWWRWWWRWWWRWWWY
V  Key scale V	 V   V	 V   V	 V   V	 V   V	 V   V	 V   V	 V   V	 V   V
V   number   V 0 V 1 V 2 V 3 V 4 V 5 V 6 V 7 V 8 V 9 V 10V 11V 12V 13V 14V 15V
TWWWWWWRWWWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWS
V      VKSR=0V 0 V 0 V 0 V 0 V 1 V 1 V 1 V 1 V 2 V 2 V 2 V 2 V 3 V 3 V 3 V 3 V
V  ROF TWWWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWUWWWS
V      VKSR=1V 0 V 1 V 2 V 3 V 4 V 5 V 6 V 7 V 8 V 9 V 10V 11V 12V 13V 14V 15V
ZWWWWWWQWWWWWQWWWQWWWQWWWQWWWQWWWQWWWQWWWQWWWQWWWQWWWQWWWQWWWQWWWQWWWQWWWQWWW[

  * For the key scale Nos., see the section "O8H KEYBOARD SPLIT".

  To find the actual rate time, calculate the following RATE value and refer
  to the "Rate Value and Actual Rate".
  The rate is found from the following equation.

		    XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
		   XQWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY V
		   V RATE=(Rate value) * 4 + Rof     V V
		   V Where,(when(rate value)=0,RATE=0TW[
		   ZWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW[
	       When the RATE value exeeds 63, RATE is set yo 63.

ึ 20H-35H MULT
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  MULT specifies the multi-  XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  plier for the frequency setV	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  by BLOCK and F-NUMBER.     V 20- TWWWWQWWWWQWWWWQWWWWUWWWWQWWWWQWWWWQWWWWS V
			     V 35H V		       V  3    2    1	 0 TW[
			     ZWWWWWQWWWWWWWWWWWWWWWWWWWQWWWWWWWWWWWWWWWWWWW[
  The actual frequency of     (REGISTER ARRAY 0,1)
  each operator is the product of the specified frequency multiplied by the
  multiplier shown in the table below.


  MULT determines the frequency ratio between operators.

  XWWWWWWWWWWWWRWWRWWRWWRWWRWWRWWRWWRWWRWWRWWRWWRWWRWWRWWRWWRWWY
  V    MUT     V 0V 1V 2V 3V 4V 5V 6V 7V 8V 9V AV BV CV DV EV FV
  TWWWWWWWWWWWWUWWUWWUWWUWWUWWUWWUWWUWWUWWUWWUWWUWWUWWUWWUWWUWWS
  V multiplier V ซV 1V 2V 3V 4V 5V 6V 7V 8V 9V10V10V12V12V15V15V
  ZWWWWWWWWWWWWQWWQWWQWWQWWQWWQWWQWWQWWQWWQWWQWWQWWQWWQWWQWWQWW[

ึ 40H-55H TOTAL LEVEL
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  TOTAL level sets the damp- XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  ing for the envelop.	     V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  It controls the volume     V 40- TWWWWQWWWWUWWWWQWWWWQWWWWQWWWWQWWWWQWWWWS V
  and modulation rate.	     V 55H V	     V L5   L4	 L3   L2   L1	L0 TW[
			     ZWWWWWQWWWWWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWWWWW[
			      (REGISTER ARRAY 0,1)

  Total level is given by the following equation:
  TL[dB]=(-24*L5) + (-12*L4) + (-6*L3) + (-3*L2) + (-1.5*L1) + (-0.75*L0)

ึ 40H-55H LEVEL KEY SCALE
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  For natural musical instru-XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  ments, the volume decreasesV	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  as the interval increases. V 40- TWWWWQWWWWUWWWWQWWWWQWWWWQWWWWQWWWWQWWWWS V
  Level key scale simulates  V 55H V  1    0 V				   TW[
  this phenomena.	     ZWWWWWQWWWWWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWWWWW[
			      (REGISTER ARRAY 0,1)
  The damping for each octave is set by KSL set value.
  The relation between set value and damping is shown below.

	     XWWWWWWWRWWWWWWRWWWWWWWWWRWWWWWWWWWRWWWWWWWWWY
	     V	KSL  V	 0  V	 1    V    2	V    3	  V
	     TWWWWWWWUWWWWWWUWWWWWWWWWUWWWWWWWWWUWWWWWWWWWS
	     VDampingV	 0  V 3dB/oct V1.5B/oct V 6dB/oct V
	     ZWWWWWWWQWWWWWWQWWWWWWWWWQWWWWWWWWWQWWWWWWWWW[

  The actual level damping is determined by splitting one octave into 16 parts
  by the value of the higher four bits of F-NUMBER.

  The damping rate shown below is the damping for 3dB/oct.
								    (Units:dB)
XWWWWWWWWWWRWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
V    \ OCT V								     V
VF-NUM \   V 0	     1	      2        3	4	 5	  6	   7 V
TWWWWWWWWWWUWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWS
V 0	   V 0	     0	      0        0	0	 0	  0	   0 V
V 1	   V 0	     0	      0        0	0    3.000    6.000    9.000 V
V 2	   V 0	     0	      0        0    3.000    6.000    9.000   12.000 V
V 3	   V 0	     0	      0    1.875    4.875    7.875   10.875   13.875 V
V 4	   V 0	     0	      0    3.000    6.000    9.000   12.000   15.000 V
V 5	   V 0	     0	  1.125    4.125    7.125   10.125   13.125   16.125 V
V 6	   V 0	     0	  1.875    4.875    7.875   10.875   13.875   16.875 V
V 7	   V 0	     0	  2.625    5.625    8.625   11.625   14.625   17.625 V
V 8	   V 0	     0	  3.000    6.000    9.000   12.000   15.000   18.000 V
V 9	   V 0	 0.750	  3.750    6.750    9.750   12.750   15.750   18.750 V
V 10	   V 0	 1.125	  4.125    7.125   10.125   13.125   16.125   19.125 V
V 11	   V 0	 1.500	  4.500    7.500   10.500   13.500   16.500   19.500 V
V 12	   V 0	 1.875	  4.875    7.875   10.875   13.875   16.875   19.875 V
V 13	   V 0	 2.250	  5.250    8.250   11.250   14.250   17.250   20.250 V
V 14	   V 0	 2.625	  5.625    8.625   11.625   14.625   17.625   20.625 V
V 15	   V 0	 3.000	  6.000    9.000   12.000   15.000   18.000   21.000 V
ZWWWWWWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW[
  For 1.5dB/oct, the damping is 1/2 tha above and for 3.0dB/oct, the damping
  is double the above.

ึ 60H-75H AR
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  This register specifies    XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  the attack rate.	     V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
			     V 60- TWWWWQWWWWQWWWWQWWWWUWWWWQWWWWQWWWWQWWWWS V
  The set value is 0 to 15.  V 75H V  3    2	1    0 V		   TW[
  The larger the value, the  ZWWWWWQWWWWWWWWWWWWWWWWWWWQWWWWWWWWWWWWWWWWWWW[
  shorter the rise time of    (REGISTER ARRAY 0,1)
  the sound.
  To find the actual rate time, see the sections "$20-35H RATE KEY SCALE" and
  "Rate Calue and Actual Time Table".
  For the envelop flag, see the section "Envelop".
    
ึ 60H-75H DR
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  Specifies the decay rate   XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  The set value is 0 to 15.  V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  The larger the set value,  V 60- TWWWWQWWWWQWWWWQWWWWUWWWWQWWWWQWWWWQWWWWS V
  the shorter the time.      V 75H V		       V  3    2    1	 0 TW[
			     ZWWWWWQWWWWWWWWWWWWWWWWWWWQWWWWWWWWWWWWWWWWWWW[
			      (REGISTER ARRAY 0,1)
  To find the actual rate time, see the sections "$20-35H RATE KEY SCALE" and
  "Rate Calue and Actual Time Table".

ึ 80H-95H RR
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  Specifies the release rate XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  The set value is 0 to 15.  V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  The larger the set value,  V 80- TWWWWQWWWWQWWWWQWWWWUWWWWQWWWWQWWWWQWWWWS V
  the shorter the time.      V 95H V		       V  3    2    1	 0 TW[
			     ZWWWWWQWWWWWWWWWWWWWWWWWWWQWWWWWWWWWWWWWWWWWWW[
			      (REGISTER ARRAY 0,1)
  To find the actual rate time, see the sections "$20-35H RATE KEY SCALE" and
  "Rate Calue and Actual Time Table".

ึ 80H-95H SL
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  Specifies the sustain levelXQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  The sustain level is the   V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  transition point which     V 80- TWWWWQWWWWQWWWWQWWWWUWWWWQWWWWQWWWWQWWWWS V
  holds the level after the  V 95H V SL3  SL2  SL1  Sl0V		   TW[
  decay reaches the set levelZWWWWWQWWWWWWWWWWWWWWWWWWWQWWWWWWWWWWWWWWWWWWW[
  when the envelop is a non-  (REGISTER ARRAY 0,1)
  percussive sound.
  During damping, it is the transition point from decay to release rate.

  The sustain level (SL) is represented by damping amount as follows:
  SL[dB]=(-24 * SL3) + (-12 * SL2) + (-6 * SL1) + (-3 * SL0)

  When all the bits are "1", SL is set to -93dB.

ึ A0H-A8H,B0-B8H F_NUMBER
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  This register determines   XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  the frequency information  V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  for one octave.	     V A0- TWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWS V
  The set value is 0 to 1023.V A8H V F7   F6   F5   F4	 F3   F2   F1	F0 TW[
			     ZWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW[
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
			     XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
			     V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
			     V B0- TWWWWQWWWWQWWWWQWWWWQWWWWQWWWWUWWWWQWWWWS V
			     V B8H V				 V F9	F8 TW[
			     ZWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWWWWWQWWWWWWWWW[
			      (REGISTER ARRAY 0,1)
ึ B0-B8H BLOCK
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  "BLOCK" is the octave      XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  information. The set value V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  is 0 to 7 octaves.	     V B0- TWWWWQWWWWQWWWWUWWWWQWWWWQWWWWUWWWWQWWWWS V
			     V B8H V		  V B2	 B1   B0 V	   TW[
			     ZWWWWWQWWWWWWWWWWWWWWQWWWWWWWWWWWWWWQWWWWWWWWW[
			      (REGISTER ARRAY 0,1)

  The F_NUMBER setting can be found from the desired frequency and set BLOCK
  Value.

  The relation of the desired frequency, F_NUMBER, and BLOCK is given by the
  following equation:

     XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
    XQWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY V
    V		 (Desired frequency) * 2^19 / (Sampling frequency/648) V V
    V F_NUMBER = WWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW V V
    V				2^block-1			       TW[
    ZWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW[

   Examples of F_NUMBER setting using the F_NUMBER equation are shown below.
   (BLOCK value is "4".)

  XWWWWWWWWRWWWWWWWWWWWRWWWWWWWWWWRWWWWWWWWWRWWWWWWWWWWWRWWWWWWWWWWWY
  V NOTE   V Frequency V F_NUMBER V  NOTE   V Frequency V F_NUMBER) V
  TWWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWUWWWWWWWWWUWWWWWWWWWWWUWWWWWWWWWWWS
  V   C    V   261.6   V    346   V    G    V	392.0	V    519    V
  V   C#   V   277.2   V    367   V    G#   V	415.3	V    550    V
  V   D    V   293.7   V    389   V    A    V	440.0	V    582    V
  V   D#   V   311.1   V    412   V    A#   V	466.2	V    617    V
  V   E    V   329.6   V    436   V    B    V	493.9	V    654    V
  V   F    V   349.2   V    462   V    C    V	523.3	V    693    V
  V   F#   V   370.0   V    490   V	    V		V	    V
  ZWWWWWWWWQWWWWWWWWWWWQWWWWWWWWWWQWWWWWWWWWQWWWWWWWWWWWQWWWWWWWWWWW[

  F_NUMBER can also be set to other than above.
  However, when the F_NUMBER setting is small, the difference between the
  frequency generated by the YMF278B and the frequency of the note becomes
  large.

ึ B0-B8H KEY ON
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  This register controls     XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  sound generation.	     V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  "1": Key on                V B0- TWWWWQWWWWUWWWWUWWWWQWWWWQWWWWQWWWWQWWWWS V
  "0": Key off               V B8H V         V KEYV                        TW[
			     ZWWWWWQWWWWWWWWWQWWWWQWWWWWWWWWWWWWWWWWWWWWWWW[
			      (REGISTER ARRAY 0,1)

ึ BDH RHY (RHYTHM)
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  When RHY is set to "1",    XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  slots 13 to 18 are set to  V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  rhythm mode.		     V BDH TWWWWQWWWWUWWWWUWWWWQWWWWQWWWWQWWWWQWWWWS V
			     V	   V	     V RHYV			   TW[
			     ZWWWWWQWWWWWWWWWQWWWWQWWWWWWWWWWWWWWWWWWWWWWWW[
			      (REGISTER ARRAY 0)

ึ BDH RHY INTRUMENT SELECTION
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  This register controls     XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  sound generation of each   V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  rhythm. When the bit	     V BDH TWWWWQWWWWQWWWWUWWWWUWWWWUWWWWUWWWWUWWWWS V
  corresponding to each      V	   V		  V BD V SD V TOMV TC V HH TW[
  musical instrument is set  ZWWWWWQWWWWWWWWWWWWWWQWWWWQWWWWQWWWWQWWWWQWWWW[
  to "1" (rhythm), sound      (REGISTER ARRAY 0)
  is generated.


  The slot No. used by each rhythm instrument is shown below.
  Set the rate, etc. to match the special features of each musical instrument.

			XWWWWWWWWWWWWWWWWWWRWWWWWWWWWWWWWY
			V Rhythm instrumentV   Slot No.  V
			TWWWWWWWWWWWWWWWWWWUWWWWWWWWWWWWWS
			V   Bass Drum (BD) V	13,16	 V
			V		   V		 V
			V   Snare Drum (SD)V	17	 V
			V		   V		 V
			V   Tom Tom (TOM)  V	15	 V
			V		   V		 V
			V   Top Cymbal (TC)V	18	 V
			V		   V		 V
			V   Hi Hat um (BD) V	14	 V
			ZWWWWWWWWWWWWWWWWWWQWWWWWWWWWWWWW[

  When a slot is set to the rhythm mode, set KEY ON of slots 13 to 18 to "0".

ึ C0-C8H CNT
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  This register selects the  XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  algorithm. "Algorithm" is  V     V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  a combination (connection  V C0- TWWWWQWWWWQWWWWQWWWWQWWWWQWWWWQWWWWUWWWWS V
  form) of operators.	     V C8H V				      V CNTTW[
			     ZWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWQWWWW[
			      (REGISTER ARRAY 0,1)
  ึ Two-operator mode
    When CNT is set to "0", algorithm 1 is selected. When CNT is set to "1",
    algotithm 2 is selected.

     XWWWWWWWWWWWWWWY				  XWWWWWWWWWWWWWWY
     V XWWWWWWWWWWY V XWWWWWWWWWWY		  V XWWWWWWWWWWY V
    WQ>VOperator 1TWQWSOperator 2TWW>		 WQ>VOperator 1TWQWY
       ZWWWWWWWWWW[   ZWWWWWWWWWW[		    ZWWWWWWWWWW[   V
								   TWW>
	       Algorithm 1			    XWWWWWWWWWWY   V
						 WWWSOperator 2TWWW[
						    ZWWWWWWWWWW[
						     Algorithm 2

    Registers C0 to C8H are set for each channel. Therefore, select algorithm 1
    and 2 at each channel.

  ึ Four-operator mode
    To select the four-operator mode, CONNECTION SEL of 05H (REGISTER ARRAY 1)
    is set and four algorithms are selected by setting two CNT bits.

    The two CNT bits needed in algorithm selection at each channel are shown
    in the table below.

	      XWWWWWRWWWWWWWWWWWWWRWWWWWWWWWWWWWWWWWWWWWWY
	      V     V		  V Set CNT bit register V
	      V  A1 V Channel No. TWWWWWWWWWWRWWWWWWWWWWWS
	      V     V		  V    CNTn  V	 CNTn+3  V
	      TWWWWWUWWWWWWWWWWWWWUWWWWWWWWWWUWWWWWWWWWWWS
	      V     V	   1	  V    C0H   V	  C3H	 V
	      V  0  V	   2	  V    C1H   V	  C4H	 V
	      V     V	   3	  V    C2H   V	  C5H	 V
	      TWWWWWUWWWWWWWWWWWWWUWWWWWWWWWWUWWWWWWWWWWWS
	      V     V	   4	  V    C0H   V	  C3H	 V
	      V  1  V	   5	  V    C1H   V	  C4H	 V
	      V     V	   6	  V    C2H   V	  C5H	 V
	      ZWWWWWQWWWWWWWWWWWWWQWWWWWWWWWWQWWWWWWWWWWW[

    The algorithm form by CNTn and CNTn+3 combination is shown below.


    ผ Algorithm 1   CNTn = "0"    CNTn+3 = "0"

      XWWWWWWWWWWWWWWY
      V XWWWWWWWWWWY V XWWWWWWWWWWY   XWWWWWWWWWWY  XWWWWWWWWWWY
     WQ>VOperator 1TWQWSOperator 2TWWWSOperator 3TWWSOperator 4TW>
	ZWWWWWWWWWW[   ZWWWWWWWWWW[   ZWWWWWWWWWW[  ZWWWWWWWWWW[


    ผ Algorithm 2   CNTn = "0"    CNTn+3 = "1"
		       XWWWWWWWWWWWWWWY
		       V XWWWWWWWWWWY V XWWWWWWWWWWY
		      WQ>VOperator 1TWQWSOperator 2TWWY
			 ZWWWWWWWWWW[	ZWWWWWWWWWW[  V
						      TWWW>
			 XWWWWWWWWWWY	XWWWWWWWWWWY  V
		      WW>VOperator 3TWWWSOperator 4TWW[
			 ZWWWWWWWWWW[	ZWWWWWWWWWW[


    ผ Algorithm 3   CNTn = "1"    CNTn+3 = "0"
	       XWWWWWWWWWWWWWWY
	       V XWWWWWWWWWWY V
	      WQ>VOperator 1TWQWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
		 ZWWWWWWWWWW[				     V
							     V
		 XWWWWWWWWWWY	XWWWWWWWWWWY   XWWWWWWWWWWY  V
	      WW>VOperator 2TWWWSOperator 3TWWWSOperator 4TWWQW>
		 ZWWWWWWWWWW[	ZWWWWWWWWWW[   ZWWWWWWWWWW[


    ผ Algorithm 4   CNTn = "1"    CNTn+3 = "1"
	       XWWWWWWWWWWWWWWY
	       V XWWWWWWWWWWY V
	      WQ>VOperator 1TWQWWWWWWWWWWWWWWWWWWY
		 ZWWWWWWWWWW[			 V
						 V
		 XWWWWWWWWWWY	XWWWWWWWWWWY	 V
	      WW>VOperator 2TWWWSOperator 3TWWWWWUWWWW>
		 ZWWWWWWWWWW[	ZWWWWWWWWWW[	 V
						 V
		 XWWWWWWWWWWY			 V
	      WW>VOperator 4TWWWWWWWWWWWWWWWWWWWW[
		 ZWWWWWWWWWW[

ึ C0-C8H FEEDBACK
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  Feedback modulation can be XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  apllied to slot 1 of each  V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  channel.		     V C0- TWWWWQWWWWQWWWWQWWWWUWWWWQWWWWQWWWWUWWWWS V
			     V C8H V		       V  2    1    0 V    TW[
  When feedback modulation   ZWWWWWQWWWWWWWWWWWWWWWWWWWQWWWWWWWWWWWWWWQWWWW[
  is used, string instruments (REGISTER ARRAY 0,1)
  sounds can be maded.

  The feedback modulation rate can be selected by FB (FeedBack) setting.
  The relation between FB value and modulation rate is shown below.

  XWWWWWWWWWWWWWWWWWRWWWRWWWWWRWWWWWRWWWWRWWWWRWWWRWWWRWWWY
  V	  FB	    V 0 V  1  V  2  V 3  V 4  V 5 V 6 V 7 V
  TWWWWWWWWWWWWWWWWWUWWWUWWWWWUWWWWWUWWWWUWWWWUWWWUWWWUWWWS
  V Modulation rate V 0 V ใ/16V  ใ/8V ใ/4V ใ/2V 1ใV 2ใV 4ใV
  ZWWWWWWWWWWWWWWWWWQWWWQWWWWWQWWWWWQWWWWQWWWWQWWWQWWWQWWW[

ึ C0-C8H OUTPUT CHANNEL SELECTION
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  A total of four channels   XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  are output from the FM     V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  synthesizer.		     V C0- TWWWWUWWWWUWWWWUWWWWUWWWWQWWWWQWWWWQWWWWS V
			     V C8H V CHDV CHCV CHBV CHAV		   TW[
  Each bit "1": Output       ZWWWWWQWWWWQWWWWQWWWWQWWWWQWWWWWWWWWWWWWWWWWWW[
	   "0": Not ouput     (REGISTER ARRAY 0,1)


  ึ CHA,CHB

    The FM synthesizer output is digitally mixed with the wave table synthesis
    of the channel at which the CH bit of the wave table synthesizer register
    $68 to 7FH is set to "0" and is output from the D02 pin.
    CHA is mixed with the wave table synthesis Lch and CHB is mixed with the
    wave table synthesis Rch.

  ึ CHC,CHD

    The output set by CHC and CHD is output from the D0 pin.
    Since FM is output from the DO0 pin and PCM is output from the DO1 pin, a
    sound effect can be apllied to certain sound by connecting an YSS225 to
    the DO0 and DO1 pins. Of course, a D/A converter can also be connected.

ึ E0-F5H WAVE SELECT
			      XWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWY
  The waveform used in FM    XQWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWRWWWWY V
  operation can be set for   V	   V D7 V D6 V D5 V D4 V D3 V D2 V D1 V D0 V V
  each slot.		     V E0- TWWWWQWWWWQWWWWQWWWWQWWWWUWWWWQWWWWQWWWWS V
  This allows the generation V F5H V			    V  2    1	 0 TW[
  of complex sounds.	     ZWWWWWQWWWWWWWWWWWWWWWWWWWWWWWWQWWWWWWWWWWWWWW[
			      (REGISTER ARRAY 0,1)

  The relation between Wave Select value and selectable waveform is shown
  in "WAVEFORM.BMP". When this LSI is used in OPL2 mode, only WS0 to WS3
  can be selected.


ENVELOP GRAPH (FM)
฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿รรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรร

ึ Non-percussive sound envelop

  Non-percussive sound envelop is shown in "FMENVELO.BMP"

  This envelop has a dynamic range of 96dB (resolution 0.1875dB) and is
  expressed by damping amount.
  The attack rate changes exponentially by time from key on to 0dB.
  When 0dB is reached, attack rate is switched to decay rate. Decay rate
  changes linearly by time up to the sustain level.
  At key off, the rate switches to release rate. Release rate changes linearly
  with the time from sustain level to -96dB.

ึ Damping sound envelop

  Damping sound envelop is shown in "FMENVELO.BMP"

  The attack rate changes exponentially by time from key on to 0dB.
  When 0dB is reached, attack rate is switched to decay rate. Decay rate
  changes linearly by time up to the sustain level. Release rate changes
  linearly with the time from sustain level to -96dB.
  Transistion to release is unrelated to KEY ON.

RATE VALUE AND ACTUAL TIME TABLE
฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿รรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรร

ึ Attack rate							    (Unit:ms)

XWWWWWWRWWWWWWWWWWWWWWRWWWWWWWWWWWWWWY	 XWWWWWRWWWWWWWWWWWWWWRWWWWWWWWWWWWWWY
V RATE V Time (0-100%)V Time (10-90%)V	 VRATE V Time (0-100%)V Time (10-90%)V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   0  V      ์       V       ์      V	 V  32 V     22.08    V     11.58    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   1  V      ์       V       ์      V	 V  33 V     17.60    V      9.02    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   2  V      ์       V       ์      V	 V  34 V     14.72    V      7.74    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   3  V      ์       V       ์      V	 V  35 V     12.48    V      6.78    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   4  V   2826.24    V   1482.75    V	 V  36 V     11.04    V      5.79    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   5  V   2252.80    V   1155.07    V	 V  37 V      8.80    V      4.51    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   6  V   1884.16    V    991.23    V	 V  38 V      7.36    V      3.87    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   7  V   1597.44    V    868.35    V	 V  39 V      6.24    V      3.39    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   8  V   1413.12    V    741.38    V	 V  40 V      5.52    V      2.90    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   9  V   1126.40    V    577.54    V	 V  41 V      4.40    V      2.26    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  10  V    942.08    V    495.62    V	 V  42 V      3.68    V      1.94    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  11  V    798.72    V    434.18    V	 V  43 V      3.12    V      1.70    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  12  V    706.56    V    370.69    V	 V  44 V      2.76    V      1.45    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  13  V    563.20    V    288.77    V	 V  45 V      2.20    V      1.13    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  14  V    471.04    V    247.81    V	 V  46 V      1.84    V      0.97    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  15  V    399.36    V    217.09    V	 V  47 V      1.56    V      0.85    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  16  V    353.28    V    185.34    V	 V  48 V      1.40    V      0.73    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  17  V    281.60    V    144.38    V	 V  49 V      1.12    V      0.61    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  18  V    235.52    V    123.90    V	 V  50 V      0.92    V      0.49    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  19  V    199.68    V    108.54    V	 V  51 V      0.80    V      0.43    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  20  V    176.76    V     92.67    V	 V  52 V      0.70    V      0.37    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  21  V    140.80    V     72.19    V	 V  53 V      0.56    V      0.31    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  22  V    117.76    V     61.95    V	 V  54 V      0.46    V      0.26    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  23  V     99.84    V     54.27    V	 V  55 V      0.42    V      0.22    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  24  V     88.32    V     46.34    V	 V  56 V      0.38    V      0.19    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  25  V     70.40    V     36.10    V	 V  57 V      0.30    V      0.14    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  26  V     58.88    V     30.98    V	 V  58 V      0.24    V      0.11    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  27  V     49.92    V     27.14    V	 V  59 V      0.20    V      0.11    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  28  V     44.16    V     23.17    V	 V  60 V      0.00    V      0.00    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  29  V     35.20    V     18.05    V	 V  61 V      0.00    V      0.00    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  30  V     29.44    V     15.49    V	 V  62 V      0.00    V      0.00    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  31  V     24.96    V     13.57    V	 V  63 V      0.00    V      0.00    V
ZWWWWWWQWWWWWWWWWWWWWWQWWWWWWWWWWWWWW[	 ZWWWWWQWWWWWWWWWWWWWWQWWWWWWWWWWWWWW[


ึ Decay and release rates					    (Unit:ms)

XWWWWWWRWWWWWWWWWWWWWWRWWWWWWWWWWWWWWY	 XWWWWWRWWWWWWWWWWWWWWRWWWWWWWWWWWWWWY
V RATE V Time (0-100%)V Time (10-90%)V	 VRATE V Time (0-100%)V Time (10-90%)V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   0  V      ์       V       ์      V	 V  32 V    306.88    V     64.16    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   1  V      ์       V       ์      V	 V  33 V    254.44    V     51.36    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   2  V      ์       V       ์      V	 V  34 V    204.48    V     43.04    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   3  V      ์       V       ์      V	 V  35 V    175.36    V     36.96    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   4  V  39280.64    V   8212.48    V	 V  36 V    153.44    V     32.08    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   5  V  31416.32    V   6574.08    V	 V  37 V    122.72    V     25.68    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   6  V  26173.44    V   5509.12    V	 V  38 V    102.24    V     21.52    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   7  V  22446.08    V   4730.88    V	 V  39 V     87.68    V     18.48    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   8  V  19640.32    V   4106.24    V	 V  40 V     76.72    V     16.04    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V   9  V  15708.16    V   3287.04    V	 V  41 V     61.36    V     12.84    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  10  V  13086.72    V   2754.56    V	 V  42 V     51.12    V     10.76    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  11  V  11223.04    V   2365.44    V	 V  43 V     43.48    V      9.42    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  12  V   9820.16    V   2053.12    V	 V  44 V     38.36    V      8.02    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  13  V   7854.08    V   1643.52    V	 V  45 V     30.68    V      6.42    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  14  V   6543.36    V   1377.28    V	 V  46 V     25.56    V      5.38    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  15  V   5611.52    V   1182.72    V	 V  47 V     21.92    V      4.62    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  16  V   4910.08    V   1026.56    V	 V  48 V     19.20    V      4.02    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  17  V   3927.04    V    821.76    V	 V  49 V     15.36    V      3.22    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  18  V   3271.68    V    688.64    V	 V  50 V     12.80    V      2.68    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  19  V   2805.76    V    591.36    V	 V  51 V     10.96    V      2.32    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  20  V   2455.04    V    513.28    V	 V  52 V      9.60    V      2.02    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  21  V   1936.52    V    410.88    V	 V  53 V      7.68    V      1.62    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  22  V   1635.84    V    344.34    V	 V  54 V      6.40    V      1.35    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  23  V   1402.88    V    295.68    V	 V  55 V      5.84    V      1.15    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  24  V   1227.52    V    256.64    V	 V  56 V      4.80    V      1.01    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  25  V    981.76    V    205.44    V	 V  57 V      3.84    V      0.81    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  26  V    817.92    V    172.16    V	 V  58 V      3.20    V      0.69    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  27  V    701.44    V    147.84    V	 V  59 V      2.74    V      0.58    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  28  V    613.76    V    128.32    V	 V  60 V      2.40    V      0.51    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  29  V    490.88    V    102.72    V	 V  61 V      2.40    V      0.51    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  30  V    488.96    V     86.08    V	 V  62 V      2.40    V      0.51    V
TWWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS	 TWWWWWUWWWWWWWWWWWWWWUWWWWWWWWWWWWWWS
V  31  V    350.72    V     73.92    V	 V  63 V      2.40    V      0.51    V
ZWWWWWWQWWWWWWWWWWWWWWQWWWWWWWWWWWWWW[	 ZWWWWWQWWWWWWWWWWWWWWQWWWWWWWWWWWWWW[

CONNECTION TO D/A CONVERTER AND EFFECT PROCESSOR
฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿รรรรรรรรรรรรรรรรรรรรรรรรรรรรรรร

This section describes how OPL4 and YAC513 OPL4-dedicated DAC are connected.
Connection Examples are shown below.

OPL4 outputs three serial data (DO0-DO2).
Basically, DO0 to DO2 can connect to pin 8 (SD) of the YAC513.
However, a sound effect should be applied to a specified sound by connecting
DO2 to the YAC513 and connecting DO0 and DO1 to the YSS225.


		   XWWWWWWWWWWY      SelXWWWWWWWWWY
		   V	      V      XWWS4	  V
		   V	      V      Q	V	  V
		   V	    20TWWWWWWWWWS5	  V
		   V	      V 	V	  V
		   V  OPL4  45TWWWWWWWWWS6 YAC513 V
		   V	      V 	V	  V
		   V	    21TWWWWWWWWWS7	  V
		   V	      V 	V	  V TST1
		   V	    24TWWWWWWWWWS8	 9TWWY
		   ZWWWWWWWWWW[ 	ZWWWWWWWWW[  Q

The method of connecting the YSS225 Effect Processor, which applies
reverberation, echo, and other effects to the OPL4 wave table, is described
below.

A connection example is shown below.
							  BCI1~4
				 XWWWWWWWWWWWWWWWWWWWWWWWRWWRWWRWWY
				 V  XWWWWWRWWRWWRWWY	 V  V  V  V
				 V  V	  V  V	V  V	 V  V  V  V
		   XWWWWWWWWWWY  V  V	XWQWWQWWQWWQWWWWWQWWQWWQWWQWY
		   V	    20TWW[  V	V100 99 98 97	 96 95 94 93V
		   V	      V     V	V			    V
		   V	    21TWWWWW[	V			    V
		   V	      V      DI1V			    V
		   V	    22TWWWWWWWWWS1			    V
		   V	      V      DI2V			    V
		   V  OPL4  23TWWWWWWWWWS2	    YS225	    V
		   V	      V     WLS0V			    V
		   V	      V       ผWS6			    V
		   V	      V     WLS1V			    V
		   V	      V       ผWS7			    V
		   V	      VCLK0   XIV			    V
		   V	    19TWWWWWWWWWS10			    V
		   ZWWWWWWWWWW[ 	ZWWWWWWWWWWWWWWWWWWWWWWWWWWW[

Note: Do not connect YS225 pins 6 and 7.
      (WLS0,1...input data length (16/18bit) switching.)

AUDIO OUTOUT INTERFACE
฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿฿รรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรรร

The YMF278B output data is 16-bit 2's complement digital data.
The data us MSB first output. The sampling frequency is 44.1kHz.
The data output from each pin is shown below.

  ึ DO0 pin: FM sound only (Sound of channel set by CHC and CHD of FM
	     registers $C0 to C8H is output.)

  ึ DO1 pin: Wave table sound only. (Sound of channel set at CH="1" of wave
	     table registers $68 to 7FH is output.)

  ึ DO2 pin: FM and wave table mixed data.(Sound of channel set by CHA and CHB
	     of FM registers $C0 to C8H and sound of channel set at CH="0" of
	     wave table registers $68 to 7FH are mixed and output.)

The YSS225 Effect Processor and YAC513,YMF278B deticated DAC,are avialable
from YAMAHA to aplly effects (echo, reverberation, etc.) to the output sound.
